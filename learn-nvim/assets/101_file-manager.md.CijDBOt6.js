import{_ as t,c as a,a2 as o,o as i}from"./chunks/framework.DXKzXLg0.js";const u=JSON.parse('{"title":"File manager","description":"","frontmatter":{},"headers":[],"relativePath":"101/file-manager.md","filePath":"101/file-manager.md"}'),r={name:"101/file-manager.md"};function n(s,e,l,c,p,d){return i(),a("div",null,e[0]||(e[0]=[o(`<h1 id="file-manager" tabindex="-1">File manager <a class="header-anchor" href="#file-manager" aria-label="Permalink to &quot;File manager&quot;">​</a></h1><p>It&#39;s time we talk about <a href="https://neovim.io/doc/user/pi_netrw" target="_blank" rel="noreferrer">Netrw</a>, the file manager that Vim and Neovim use by default. This will be a survival guide to Netrw where I show you the basic features it offers.</p><h2 id="what-s-netrw" tabindex="-1">What&#39;s Netrw? <a class="header-anchor" href="#what-s-netrw" aria-label="Permalink to &quot;What&#39;s Netrw?&quot;">​</a></h2><p>Netrw is actually a plugin included in Vim&#39;s runtime files. It allows reading, writing and browsing over different <a href="https://neovim.io/doc/user/pi_netrw.html#netrw-externapp" target="_blank" rel="noreferrer">protocols</a>.</p><p>The thing we care about is the file browser window. Here&#39;s an example of how it looks:</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&quot; ============================================================================</span></span>
<span class="line"><span>&quot; Netrw Directory Listing                                        (netrw v175)</span></span>
<span class="line"><span>&quot;   /usr/share/nvim/runtime/pack/dist/opt/netrw</span></span>
<span class="line"><span>&quot;   Sorted by      name</span></span>
<span class="line"><span>&quot;   Sort sequence: [\\/]$,\\&lt;core\\%(\\.\\d\\+\\)\\=\\&gt;,\\.h$,\\.c$,\\.cpp$,\\~\\=\\*$,*</span></span>
<span class="line"><span>&quot;   Quick Help: &lt;F1&gt;:help  -:go up dir  D:delete  R:rename  s:sort-by</span></span>
<span class="line"><span>&quot; ============================================================================</span></span>
<span class="line"><span>../</span></span>
<span class="line"><span>./</span></span>
<span class="line"><span>autoload/</span></span>
<span class="line"><span>doc/</span></span>
<span class="line"><span>plugin/</span></span>
<span class="line"><span>syntax/</span></span>
<span class="line"><span>LICENSE.txt</span></span>
<span class="line"><span>README.md</span></span></code></pre></div><p>This is the interface we get out of the box.</p><p>First there is a banner showing some useful information. We have the path of the directory we are browsing. Below it shows the criteria is using to sort the files. And then we have a little cheatsheet with basic keymaps.</p><p>By default Netrw doesn&#39;t expand directories in a tree style. When we open a directory it&#39;ll update the entire window. So it only shows one level at a time. This behavior can be configured but we will get to that later.</p><h2 id="open-the-current-directory" tabindex="-1">Open the current directory <a class="header-anchor" href="#open-the-current-directory" aria-label="Permalink to &quot;Open the current directory&quot;">​</a></h2><p>Netrw&#39;s official documentation says we can just &quot;edit&quot; a directory. This means we can open up Netrw using the standard <code>:edit</code> command. All we have to do is provide a the path to a directory. This is a perfectly valid command:</p><div class="language-vim vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vim</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:edit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> .</span></span></code></pre></div><p>If you are not aware, that lonely dot at the end represents the current working directory. By default is the folder where we executed the <code>nvim</code> command.</p><p>This idea extends beyond the <code>:edit</code> command. We can trigger Netrw from the terminal. Just use a valid directory path as an argument to the <code>nvim</code> command.</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nvim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span></code></pre></div><h2 id="toggle-explorer" tabindex="-1">Toggle explorer <a class="header-anchor" href="#toggle-explorer" aria-label="Permalink to &quot;Toggle explorer&quot;">​</a></h2><p>For this we have to talk about the <a href="https://neovim.io/doc/user/pi_netrw#netrw-%3AExplore" target="_blank" rel="noreferrer">:Explore</a> command. When executed without arguments it&#39;ll open the directory of the current file.</p><p>But now <code>:Explore</code> is not the command we are looking for. To toggle the file explorer we should use <a href="https://neovim.io/doc/user/pi_netrw#netrw-%3ALexplore" target="_blank" rel="noreferrer">:Lexplore</a>. This will open Netrw in a new split window on the left side. To open it on the right side we use <code>:Lexplore!</code>. Notice the <code>!</code> at the end.</p><p>There are other <a href="https://neovim.io/doc/user/pi_netrw#netrw-explore" target="_blank" rel="noreferrer">Explore command variations</a> but really <code>:Lexplore</code> is the only one that toggles the file explorer.</p><h2 id="navigate-between-directories" tabindex="-1">Navigate between directories <a class="header-anchor" href="#navigate-between-directories" aria-label="Permalink to &quot;Navigate between directories&quot;">​</a></h2><p>Netrw&#39;s interface is actually just a buffer. There is no special widget/UI/thingy for the file explorer. Netrw creates a buffer with a special &quot;filetype&quot; and then assigns a bunch buffer-local keymaps.</p><p>We can move up and down using <code>k</code> and <code>j</code>, or the arrow keys if needed.</p><p>To open a file we place the cursor under the name of the file and press <code>Enter</code>.</p><p><code>-</code> is the keymap to &quot;go up&quot; a directory. To go down a directory is just like opening a file (press <code>Enter</code>).</p><p><code>u</code> is used to go back to the previous directory in history.</p><p><code>gh</code> toggles hidden files and directories.</p><p>To sum up, these are the keymaps you need to know to navigate between directories.</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>k     -&gt; move cursor up</span></span>
<span class="line"><span>j     -&gt; move cursor down</span></span>
<span class="line"><span>Enter -&gt; open a file or directory</span></span>
<span class="line"><span>-     -&gt; go up a directory</span></span>
<span class="line"><span>u     -&gt; go back in history</span></span>
<span class="line"><span>gh    -&gt; toggle hidden files</span></span></code></pre></div><h2 id="file-operations" tabindex="-1">File operations <a class="header-anchor" href="#file-operations" aria-label="Permalink to &quot;File operations&quot;">​</a></h2><h3 id="creating-a-file" tabindex="-1">Creating a file <a class="header-anchor" href="#creating-a-file" aria-label="Permalink to &quot;Creating a file&quot;">​</a></h3><p>If you ask around some people will tell you <code>%</code> creates a file in Netrw. They are half right. This is what the documentation says:</p><blockquote><p>Open a new file in netrw&#39;s current directory.</p></blockquote><p>So <code>%</code> is more like the <code>:edit</code> command. If the file exists it&#39;ll open it, otherwise it&#39;ll create a new empty buffer. To turn an &quot;empty buffer&quot; into a file we must use the <code>:write</code> command.</p><p>From my experience <code>%</code> only works as expected when Netrw is the only window in the tabpage. So it works fine if I open Netrw with the <code>:Explore</code> command. The new buffer will have the correct path. But, <code>:Lexplore</code> will create two split windows in a tabpage. In this case the new buffer will be created relative to Neovim&#39;s current working directory not Netrw&#39;s browsing directory.</p><h3 id="creating-a-directory" tabindex="-1">Creating a directory <a class="header-anchor" href="#creating-a-directory" aria-label="Permalink to &quot;Creating a directory&quot;">​</a></h3><p>To create a directory we press <code>d</code>. Netrw will ask for a name. Then it&#39;ll create the directory.</p><h3 id="delete" tabindex="-1">Delete <a class="header-anchor" href="#delete" aria-label="Permalink to &quot;Delete&quot;">​</a></h3><p><code>D</code> is the keymap for delete. Here Netrw will show a confirmation message. We can press <code>y</code> to confirm or <code>n</code> to cancel.</p><p>This will work on files and empty directories. But it will fail with non-empty directories.</p><h3 id="rename" tabindex="-1">Rename <a class="header-anchor" href="#rename" aria-label="Permalink to &quot;Rename&quot;">​</a></h3><p><code>R</code> is the keymap for rename or move. In this case Netrw will show the complete path of the thing we want to rename. So we have the oportunity to rename the file or change the location.</p><h3 id="copy-move-files" tabindex="-1">Copy/move files <a class="header-anchor" href="#copy-move-files" aria-label="Permalink to &quot;Copy/move files&quot;">​</a></h3><p>Copy and move are slightly more complex. For this we need a &quot;target directory&quot; and we also need to mark the files we want to operate on.</p><p>First we should go to the directory where we want our files to be. Then we press <code>mt</code> to mark it as the target directory.</p><p>After we have a target directory we must choose the files we want to copy/move. So we place the cursor on top of the file we want and press <code>mf</code> to mark the file.</p><p>Now we choose the action we want to perform. To copy files we must press <code>mc</code>. To move the files we must use <code>mm</code>.</p><p>Note that Netrw will only try to use the marked files of the current window. If we mark files from multiple directories and press <code>mc</code> then it&#39;ll only copy the files of the directory we are browsing.</p><p>One last thing. There is a vim global variable that controls the command Netrw uses to copy. The default value will only copy files, it doesn&#39;t copy directories. To copy directories we must modify the variable <code>g:netrw_localcopycmd</code>. We must set it to whatever command can copy files and directories.</p><h3 id="delete-non-empty-directories" tabindex="-1">Delete non-empty directories <a class="header-anchor" href="#delete-non-empty-directories" aria-label="Permalink to &quot;Delete non-empty directories&quot;">​</a></h3><p>For this I like to use the <code>mx</code> keymap. With <code>mx</code> we can execute any external command on marked files.</p><p>What I do is mark the directory I want to delete with <code>mf</code>. Then press <code>mx</code>. Netrw will ask for a command. Since I use linux I type the command <code>rm -r</code> and press <code>Enter</code>.</p><p>Now, I don&#39;t have a Windows machine so I can&#39;t tell you what&#39;s the equivalent of <code>rm -r</code> there. But once you figure that out you&#39;ll know what to do.</p><h2 id="where-s-the-file-tree" tabindex="-1">Where&#39;s the file tree? <a class="header-anchor" href="#where-s-the-file-tree" aria-label="Permalink to &quot;Where&#39;s the file tree?&quot;">​</a></h2><p>Pressing <code>i</code> inside Netrw will cycle through each &quot;list styles&quot; to display the files. The file tree style is the third one. Pressing <code>i</code> 3 times will display the file tree.</p><p>To make the change permanent we would have to create a <a href="./your-first-config.html#the-init-file">configuration file</a> and set the vim global variable <code>netrw_liststyle</code> to the value <code>3</code>.</p>`,55)]))}const m=t(r,[["render",n]]);export{u as __pageData,m as default};
