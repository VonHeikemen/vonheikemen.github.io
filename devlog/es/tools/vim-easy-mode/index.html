<!doctype html><html lang=en><meta http-equiv=x-ua-compatible content="IE=edge"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,viewport-fit=cover"><meta http-equiv=permissions-policy content="interest-cohort=()"><title>Devlog | vim en modo fácil: usando vim como un editor de texto 'convencional'</title><link rel=stylesheet href=https://vonheikemen.github.io/devlog/print.css media=print><link rel=stylesheet href=https://vonheikemen.github.io/devlog/styles.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface"><meta name=keywords content="vim,shell,hoy-aprendi,software,coding,development"><meta name=monetization content="$ilp.uphold.com/dFQbFZ49nJdQ"><meta name=description content="Explorar el 'modo fácil' que provee vim de forma nativa"><body class=theme-base-custom><div class=sidebar><div class="container sidebar-sticky"><div class=sidebar-about><a href=https://vonheikemen.github.io/devlog/es/><h1>Devlog</h1></a></div><ul class=sidebar-nav><li class=sidebar-nav-item><a href=/>Whoami</a><li class=sidebar-nav-item><a href=https://vonheikemen.github.io/devlog/es/tags/>Explorar tags</a><li class=sidebar-nav-item><a href=https://vonheikemen.github.io/devlog/>Devlog in english</a></ul>© 2020-2021 Heiker Curiel</div></div><div class="content container"><div class=post><h1 class=post-title>vim en modo fácil: usando vim como un editor de texto 'convencional'</h1><span class=post-date>2021-04-10
| <a href=https://vonheikemen.github.io/devlog/tools/vim-easy-mode/>Read in english</a></span><p>Resulta que vim tiene incorporado de manera nativa un "modo fácil." ¿Quién lo diría? Hoy vamos a aprender de qué se trata, cómo podemos habilitarlo, veremos por qué nadie le presta atención y por último les enseñaré algunas cosas que pueden hacer para mejorarlo.<h2 id=facil-que-quiere-decir-eso>Fácil, ¿qué quiere decir eso?</h2><p>De acuerdo a la documentación, su propósito es ayudar a las personas que no usan vim con frecuencia y que no conocen sus comandos. Hace que vim se comporte como un editor de texto convencional, ya saben, como uno de esos donde podemos insertar texto de manera inmediata.<h3 id=que-nos-brinda-esta-modalidad>¿Qué nos brinda esta modalidad?</h3><p>Conveniencia. Esa sería la respuesta. Pero ya en serio, lo primero que notarán es que podremos insertar y editar texto de una manera convencional. Las personas que han entrado en <code>vim</code> por accidente sin tener conocimiento de cómo funciona sabrán que ya esto es una gran mejora. También tendremos acceso a atajos de teclado comunes que se encuentran en otros editores, tales como:<ul><li><code>Ctrl + s</code>: guarda los cambios en el archivo.<li><code>Ctrl + z</code>: revierte el cambio más reciente.<li><code>Ctrl + y</code>: rehace el cambio más reciente.<li><code>Ctrl + c</code>: copia el texto seleccionado al portapapeles.<li><code>Ctrl + x</code>: corta el texto seleccionado, y lo pone en el portapapeles.<li><code>Ctrl + v</code>: pega el texto del portapapeles.<li><code>Ctrl + a</code>: selecciona todo el texto.</ul><p>Incluso habilita algunas opciones que hacen la experiencia más intuitiva, como por ejemplo el soporte para seleccionar texto con el ratón.<h3 id=como-funciona>¿Cómo funciona?</h3><p>Bien, en realidad este "modo fácil" es un grupo configuraciones que se encuentran en un archivo llamado <a href=https://github.com/vim/vim/blob/314dd79cac2adc10304212d1980d23ecf6782cfc/runtime/evim.vim>evim.vim</a>. Si quieren inspeccionarlo pueden ejecutar este comando <code>vim -R -c 'edit $VIMRUNTIME/evim.vim'</code> (para salir pulsen <code>ZZ</code> o cierren la terminal). Entonces, cuando activamos esta modalidad vim lo que hace es leer ese archivo y ejecutarlo.<h3 id=como-lo-usamos>¿Cómo lo usamos?</h3><p>Le pasamos a <code>vim</code> el argumento <code>-y</code>, así <code>vim -y</code>. Otra forma de usarlo es invocando el comando <code>evim</code> en nuestra terminal.<h2 id=el-gran-fallo-en-el-plan>El gran fallo en el plan</h2><p>¿Por qué esta modalidad no tiene más adopción? Porque, irónicamente, esta modalidad hace que sea más difícil salir de vim. Sí, es una tragedia si me preguntan a mí. En fin, para salir de vim tendrían ir al "modo normal" y luego usar el comando para salir. Estos serían los pasos: pulsan <code>Ctrl + o</code>, luego <code>:</code>, escriben <code>q</code> y presionan <code>Enter</code>.<p><em>¿Por qué eres así vim?</em><p>Parece que este modo fácil fue diseñado para ser usado en una interfaz gráfica, es decir, vim en una interfaz gráfica. Entonces en teoría deberían cerrar esa interfaz para salir de vim.<h2 id=soluciones>Soluciones</h2><p>Los expertos leyendo esto deben estar pensando "usen <code>nano</code> y ya." Bueno, sí, esa es una solución válida. Pero si quieren darle una oportunidad a <code>vim</code> en modo fácil, sigan leyendo (no presten atención a esos expertos).<h3 id=la-interfaz-grafica>La interfaz gráfica</h3><p>Si lo que necesitamos es una interfaz gráfica, entonces usemos una. Podemos crear alias que use nuestra terminal preferida para abrir vim.<pre style=background-color:#2b2c2f>
<code><span style=color:#69c>alias evim</span><span style=color:#5fb3b3>=&#39;</span><span style=color:#99c794>xterm -e vim -y</span><span style=color:#5fb3b3>&#39;
</span></code></pre><p>O tal vez prefieran un script.<pre style=background-color:#2b2c2f>
<code><span style=color:#5f6364>#! /usr/bin/env sh

</span><span style=color:#69c>xterm</span><span style=color:#5fb3b3> -</span><span style=color:#f99157>e</span><span style=color:#69c> vim</span><span style=color:#5fb3b3> -</span><span style=color:#f99157>y </span><span style=color:#5fb3b3>$</span><span style=color:#ec5f67>@
</span></code></pre><blockquote><p>Pero cambien el comando <code>xterm</code> con su terminal favorita.</blockquote><p>De esta forma cuando usen el comando <code>evim</code> o invoquen su script vim se abrirá en una ventana aparte. Cuando terminen de editar simplemente cierran esa nueva ventana donde está vim.<h3 id=la-pieza-faltante>La pieza faltante</h3><p>Por otro lado, si lo que hace falta es un atajo para salir de vim, entonces creemos uno. Podemos hacer esto.<pre style=background-color:#2b2c2f>
<code><span style=color:#69c>vim</span><span style=color:#5fb3b3> -</span><span style=color:#f99157>y</span><span style=color:#5fb3b3> -</span><span style=color:#f99157>c </span><span style=color:#5fb3b3>&quot;</span><span style=color:#99c794>inoremap &lt;c-q&gt; &lt;c-o&gt;:q&lt;cr&gt;</span><span style=color:#5fb3b3>&quot;
</span></code></pre><p>Este comando abrirá vim en modo fácil y también creará el atajo <code>Ctrl + q</code> para salir. De nuevo, pueden colocar eso en un alias o un script.<h3 id=facil-por-defecto>Fácil por defecto</h3><p>Hay una forma de habilitar este modo sin tener que recurrir al argumento <code>-y</code>. En nuestra carpeta de usuario (nuestro "home") podemos crear un archivo llamado <code>.vimrc</code>, y colocamos el siguiente contenido.<pre style=background-color:#2b2c2f>
<code><span style=color:#5f6364>&quot; habilita el &#39;modo fácil&#39;
</span><span style=color:#cccece>source $VIMRUNTIME/evim.vim

</span><span style=color:#5f6364>&quot; Ctrl + q para salir de vim
</span><span style=color:#69c>inoremap </span><span style=color:#fac863>&lt;c-q&gt; &lt;c-o&gt;</span><span style=color:#cccece>:q</span><span style=color:#fac863>&lt;cr&gt;
</span></code></pre><p>Una vez que tenemos nuestra configuración al invocar <code>vim</code> (sólo <code>vim</code>) ya estaremos en el modo fácil, y lo más importante podremos salir fácilmente usando <code>Ctrl + q</code>.<p>Esto es lo que yo recomendaría para las personas que no tienen ninguna intención de usar vim de manera frecuente (o incluso si nunca quieren usarlo). Incluso si entran en <code>vim</code> por accidente podrán usarlo como un editor convencional o como mínimo podrán salir de él rápidamente.<h4 id=ya-que-estamos-aqui>Ya que estamos aquí</h4><p>Ahora si así lo desean, pueden mejorar un poco su configuración. En el archivo <code>.vimrc</code> pueden colocar algunas de estas configuraciones.<ul><li>Evita crear archivos temporales.</ul><pre style=background-color:#2b2c2f>
<code><span style=color:#69c>set</span><span style=color:#cccece> noswapfile
</span><span style=color:#69c>set</span><span style=color:#cccece> nobackup
</span></code></pre><ul><li>Resalta la línea donde se encuentra el cursor.</ul><pre style=background-color:#2b2c2f>
<code><span style=color:#69c>set</span><span style=color:#cccece> cursorline
</span></code></pre><ul><li>Activa el resaltado de sintaxis y mejora los colores.</ul><pre style=background-color:#2b2c2f>
<code><span style=color:#c594c5>if</span><span style=color:#cccece> (</span><span style=color:#69c>has</span><span style=color:#cccece>(</span><span style=color:#99c794>&quot;termguicolors&quot;</span><span style=color:#cccece>))
  </span><span style=color:#69c>set</span><span style=color:#cccece> termguicolors
</span><span style=color:#c594c5>endif

</span><span style=color:#cccece>syntax enable
</span></code></pre><ul><li>Crear atajos para buscar y reemplazar.</ul><pre style=background-color:#2b2c2f>
<code><span style=color:#5f6364>&quot; Ctrl + f para iniciar una búsqueda
</span><span style=color:#69c>inoremap </span><span style=color:#fac863>&lt;c-f&gt; &lt;c-o&gt;</span><span style=color:#cccece>/

</span><span style=color:#5f6364>&quot; Ctl + f (x2) para dejar de resaltar los resultados de una búsqueda
</span><span style=color:#69c>inoremap </span><span style=color:#fac863>&lt;c-f&gt;</span><span style=color:#cccece>f </span><span style=color:#fac863>&lt;c-o&gt;</span><span style=color:#cccece>:nohlsearch</span><span style=color:#fac863>&lt;cr&gt;
</span><span style=color:#69c>inoremap </span><span style=color:#fac863>&lt;c-f&gt;&lt;c-f&gt; &lt;c-o&gt;</span><span style=color:#cccece>:nohlsearch</span><span style=color:#fac863>&lt;cr&gt;

</span><span style=color:#5f6364>&quot; F3 para ir al resultado anterior
</span><span style=color:#69c>inoremap </span><span style=color:#fac863>&lt;F3&gt; &lt;c-o&gt;</span><span style=color:#cccece>:normal Nzz</span><span style=color:#fac863>&lt;cr&gt;

</span><span style=color:#5f6364>&quot; F4 para ir al siguiente resultado de la búsqueda
</span><span style=color:#69c>inoremap </span><span style=color:#fac863>&lt;F4&gt; &lt;c-o&gt;</span><span style=color:#cccece>:normal nzz</span><span style=color:#fac863>&lt;cr&gt;

</span><span style=color:#5f6364>&quot; Ctrl + h para iniciar la búsqueda y reemplazo
</span><span style=color:#69c>inoremap </span><span style=color:#fac863>&lt;c-h&gt; &lt;c-o&gt;</span><span style=color:#cccece>:%s</span><span style=color:#5fb3b3>//</span><span style=color:#cccece>/gc</span><span style=color:#fac863>&lt;Left&gt;&lt;Left&gt;&lt;Left&gt;&lt;Left&gt;
</span></code></pre><p>Este último atajo se usa de la siguiente manera.<pre style=background-color:#2b2c2f>
<code><span style=color:#cccece>s</span><span style=color:#5fb3b3>/{patrón de busqueda}/</span><span style=color:#cccece>{el reemplazo}/gc
</span></code></pre><p>Ejemplo:<pre style=background-color:#2b2c2f>
<code><span style=color:#cccece>s</span><span style=color:#5fb3b3>/Left/</span><span style=color:#cccece>Right/gc
</span></code></pre><p>Esto significa que <code>vim</code> buscará todas las ocurrencias de <code>Left</code>, nos preguntará si queremos reemplazarlas, y si le decimos que sí lo reemplazará con el valor <code>Right</code>.<h2 id=conclusion>Conclusión</h2><p>Ahora tienen todas las herramientas necesarias para "obligar" a vim a comportarse como un editor convencional. De ahora en adelante su experiencia con vim no tiene porque ser tan terrible.<h2 id=fuentes>Fuentes</h2><ul><li><a href=https://vimhelp.org/starting.txt.html#easy>:help easy</a><li><a href=https://vimhelp.org/starting.txt.html#evim-keys>:help evim-keys</a></ul><hr><p>Gracias por su tiempo. Si este artículo les pareció útil y quieren apoyar mis esfuerzos para crear más contenido, pueden dejar una propina en buy me a coffee ☕.</p><a href=https://www.buymeacoffee.com/vonheikemen style=display:flex;justify-content:center target=_blank><img src=https://cdn.buymeacoffee.com/buttons/v2/default-blue.png alt="Buy Me A Coffee" style=height:60px!important;width:217px!important></a></div></div>