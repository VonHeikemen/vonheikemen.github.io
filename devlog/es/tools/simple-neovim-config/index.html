<!doctype html><html lang=es><head><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="text/html; charset=utf-8" http-equiv=content-type><meta content="width=device-width,initial-scale=1.0,maximum-scale=1,viewport-fit=cover" name=viewport><meta content="interest-cohort=()" http-equiv=Permissions-Policy><title>
  Una configuración simple para Neovim | Devlog
</title><link href=https://vonheikemen.github.io/devlog/print.css media=print rel=stylesheet><link href=https://vonheikemen.github.io/devlog/styles.css rel=stylesheet><link href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface" rel=stylesheet><link href=https://hachyderm.io/@vonheikemen rel=me><link href=https://twitter.com/VonHeikemen_ rel=me><meta content="vim, neovim, shell, software, coding, development" name=keywords><meta content="Aprende lo básico para configurar Neovim usando lua" name=description><body class=theme-base-custom><div class=sidebar><div class="container sidebar-sticky"><div class=sidebar-about><a href=https://vonheikemen.github.io/devlog/es/><h1>Devlog</h1></a></div><ul class=sidebar-nav><li class=sidebar-nav-item><a href=/>whoami</a><li class=sidebar-nav-item><a href=https://vonheikemen.github.io/devlog/es/tags/>Explorar tags</a><li class=sidebar-nav-item><a href=https://vonheikemen.github.io/devlog/>Devlog in english</a><li class=sidebar-nav-item><a href=https://vonheikemen.github.io/devlog/atom.xml>RSS</a></ul> © 2020-2026 Heiker Curiel</div></div><div class="content container"><div class=post><h1 class=post-title>Una configuración simple para Neovim</h1><span class=post-date>2024-11-23 | 17 minutos | <a href=https://vonheikemen.github.io/devlog/tools/simple-neovim-config/> Read in english </a> </span><blockquote>Última actualización: 2026-01-05</blockquote><p>40 líneas de código es suficiente para tener una buena configuración en Neovim. Y puede que no me crean esto pero sólo necesitamos <strong>1 plugin</strong> para tener acceso a ciertas funcionalidades que generalmente encuentran en un IDE.<p>Pueden usar <a href=https://vonheikemen.github.io/devlog/es/tools/simple-neovim-config/#init-lua>esta configuración</a> como un punto de partida y luego van agregando cosas nuevas cuando encuentren algún problema. O, simplemente veanlo como una oportunidad para aprender los conceptos básicos de la configuración de Neovim.<h2 id=instalando-neovim>Instalando Neovim</h2><p>Para la configuración que les voy a mostrar necesitamos Neovim en su versión v0.9 o mayor. Pero deben tener en cuenta que muchos plugins escritos en lua sólo garantizan soporte para la versión estable actual. En este momento sería v0.11.4, que fue publicada el <code>31 de agosto del 2025</code>.<p>Si su sistema operativo está basado en linux deben prestar atención a la versión de Neovim que está disponible en su manejador de paquetes.<p>Si saben cómo instalar ejecutables pre-compilados pueden ir a la sección <a rel="noopener external" href=https://github.com/neovim/neovim/releases target=_blank>releases</a> del repositorio de Neovim y descargan la versión estable actual.<p>Otra alternativa sería usar el manejador de versiones llamado <code>bob</code>. Pueden encontrarlo aquí: <a rel="noopener external" href=https://github.com/MordechaiHadad/bob target=_blank>MordechaiHadad/bob</a>.<h2 id=el-punto-de-entrada>El punto de entrada</h2><p>Ahora vamos a crear el archivo de configuración <code>init.lua</code>. La ubicación de este archivo depende del sistema operativo que estamos usando. Entonces, para ahorranos problemas vamos a crearlo usando Neovim en modo "headless" desde la terminal.<p>Ejecuten este comando en su terminal.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=shellscript><span class=giallo-l><span style=color:#7aa89f>nvim</span><span style=color:#98bb6c> --headless -c 'exe "write ++p" stdpath("config") . "/init.lua"' -c 'quit'</span></span></code></pre><p>Después de crear el archivo podemos revisar su ubicación usando este comando.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=shellscript><span class=giallo-l><span style=color:#7aa89f>nvim</span><span style=color:#98bb6c> --headless -c 'echo $MYVIMRC' -c 'quit'</span></span></code></pre><p>Ya podemos empezar a escribir algo de código. Pero primero, les recomiendo que dediquen un poco de tiempo a aprender <code>lua</code>. Como mínimo tengan a la mano una referencia de la sintaxis. Aquí les dejo unos recursos (en inglés):<ul><li><a href="https://www.youtube.com/watch?v=NneB6GX1Els" rel="noopener external" target=_blank>Lua crash course (video 12 min)</a><li><a rel="noopener external" href=https://learnxinyminutes.com/docs/lua/ target=_blank>Learn X in Y minutes: Where X = lua</a></ul><h2 id=opciones-del-editor>Opciones del editor</h2><p>Para modificar la configuración básica del editor en lua <a rel="noopener external" href=https://github.com/neovim/neovim/issues/30383#issuecomment-2351519326 target=_blank>se recomienda</a> usar <a rel="noopener external" href=https://neovim.io/doc/user/lua-guide.html#_vim.o target=_blank>vim.o</a>. Esta es la sintaxis que debemos seguir.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.o.nombre_opcion</span><span style=color:#e6c384> =</span><span> valor</span></span></code></pre><p>Donde <code>nombre_opcion</code> debe ser una opción válida de Neovim. Y <code>valor</code> debe ser lo que esa opción espera. Pueden encontrar la lista de opciones en la documentación de Neovim: <a rel="noopener external" href=https://neovim.io/doc/user/quickref.html#option-list target=_blank>Quickref - option list</a>.<p>Estas son algunas opciones que pueden interesarles:<ul><li>Habilitar números de líneas.</ul><pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.o.number</span><span style=color:#e6c384> =</span><span style=color:#ffa066> true</span></span></code></pre><ul><li>Habilita el scroll horizontal.</ul><pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.o.wrap</span><span style=color:#e6c384> =</span><span style=color:#ffa066> false</span></span></code></pre><ul><li>Ajustar el ancho del caracter <code>Tab</code>.</ul><pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.o.tabstop</span><span style=color:#e6c384> =</span><span style=color:#d27e99> 2</span></span>
<span class=giallo-l><span>vim.o.shiftwidth</span><span style=color:#e6c384> =</span><span style=color:#d27e99> 2</span></span></code></pre><ul><li>Ignorar mayúsculas y minúsculas cuando el patrón de búsqueda esté todo en minúsculas.</ul><pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.o.smartcase</span><span style=color:#e6c384> =</span><span style=color:#ffa066> true</span></span>
<span class=giallo-l><span>vim.o.ignorecase</span><span style=color:#e6c384> =</span><span style=color:#ffa066> true</span></span></code></pre><ul><li>Deshacer el resaltado de una búsqueda luego de terminar el proceso.</ul><pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.o.hlsearch</span><span style=color:#e6c384> =</span><span style=color:#ffa066> false</span></span></code></pre><h2 id=tema-del-editor>Tema del editor</h2><p>Para cambiar el tema del editor debemos usar el comando <code>colorscheme</code>. Y para invocar un comando en lua usamos <a rel="noopener external" href=https://neovim.io/doc/user/lua-guide.html#_vim-commands target=_blank>vim.cmd</a>. Entonces en nuestra configuración podemos hacer esto:<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.cmd.</span><span style=color:#7e9cd8>colorscheme</span><span>(</span><span style=color:#98bb6c>'retrobox'</span><span>)</span></span></code></pre><p>El problema es que <code>retrobox</code> fue agregado a Neovim recientemente. Si tienen Neovim v0.9.5 o una versión menor, el comando va a fallar. Entonces, para garantizar la compatiblidad recomiendo usar la función <code>pcall</code>. Así evitamos que un posible error interrumpa la ejecución de nuestra configuración.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>local ok_theme</span><span style=color:#e6c384> =</span><span style=color:#7e9cd8> pcall</span><span>(vim.cmd.colorscheme, </span><span style=color:#98bb6c>'retrobox'</span><span>)</span></span>
<span class=giallo-l><span style=color:#957fb8>if</span><span style=color:#e6c384> not</span><span> ok_theme</span><span style=color:#957fb8> then</span></span>
<span class=giallo-l><span>  vim.cmd.</span><span style=color:#7e9cd8>colorscheme</span><span>(</span><span style=color:#98bb6c>'habamax'</span><span>)</span></span>
<span class=giallo-l><span style=color:#957fb8>end</span></span></code></pre><h2 id=portapapeles>Portapapeles</h2><p>Cuando copiamos un pedazo de texto usando el atajo <code>y</code> Neovim lo guarda en un registro interno. Para pegar usamos el atajo <code>p</code>, este utiliza el mismo registro que <code>y</code>. En otras palabras, Neovim por defecto ignora el portapapeles del sistema. Podemos usar el portapapeles pero debemos hacerlo de manera explícita.<p>Lo que hago en mi configuración personal es crear atajos específicos para interactuar con el portapapeles usando la función <a rel="noopener external" href=https://neovim.io/doc/user/lua-guide.html#_mappings target=_blank>vim.keymap.set()</a>.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>({</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'x'</span><span>}, </span><span style=color:#98bb6c>'gy'</span><span>, </span><span style=color:#98bb6c>'"+y'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Copiar al portapapel'</span><span>})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>({</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'x'</span><span>}, </span><span style=color:#98bb6c>'gp'</span><span>, </span><span style=color:#98bb6c>'"+p'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Pegar del portapapel'</span><span>})</span></span></code></pre><p>Con esto el atajo <code>gy</code> copia texto de Neovim al portapapeles del sistema, y <code>gp</code> pega texto del portapapel a Neovim.<p>Nota: <code>{'n', 'x'</code> es la lista de modos de Neovim donde podemos ejecutar el atajo. <code>n</code> es modo normal y <code>x</code> es modo visual.<h2 id=tecla-lider>Tecla líder</h2><p>Por lo general no se recomienda crear atajos que modifiquen el comportamiento que tiene Neovim por defecto, como lo hicimos en sección anterior. La mayor parte del tiempo colocamos el prefijo <code>&lt;leader></code> para nuestros atajos personales. De esta forma evitamos cualquier tipo de conflicto con las funcionalidades de Neovim.<p>¿Pero qué significa <code>&lt;leader></code>?<p>Es una especie de variable. Por defecto es la tecla <code>\</code>. Por ejemplo:<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>h'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>echo "hola"&lt;cr>'</span><span>)</span></span></code></pre><p>Este código crea el atajo <code>\ + h</code>, y este a su vez muestra el mensaje <code>hola</code>.<p>Para cambiar el valor de <code>&lt;leader></code> usamos la <strong>variable global</strong> <code>mapleader</code>.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.g.mapleader</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> ','</span></span></code></pre><p>Con esto cambiamos la tecla líder de <code>\</code> a <code>,</code>. Pero en caso de querer usar una secuencia especial como <code>control + k</code> debemos utilizar el "keycode" de esa secuencia. Por ejemplo.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.g.mapleader</span><span style=color:#e6c384> =</span><span> vim.</span><span style=color:#7e9cd8>keycode</span><span>(</span><span style=color:#98bb6c>'&lt;C-k>'</span><span>)</span></span></code></pre><p>La mayoría de las configuraciones que he visto usan la tecla <code>Espacio</code> como líder. Hacen algo como esto.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.g.mapleader</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> ' '</span></span></code></pre><p>Sí, colocan un espacio en blanco. Esto es lo que la gente hacía antes de que Neovim agregara la función <code>vim.keycode</code>. Pero si tienen Neovim v0.10 pueden hacer esto:<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.g.mapleader</span><span style=color:#e6c384> =</span><span> vim.</span><span style=color:#7e9cd8>keycode</span><span>(</span><span style=color:#98bb6c>'&lt;Space>'</span><span>)</span></span></code></pre><p>Ahora bien, para que la variable <code>mapleader</code> tenga efecto en nuestros atajos deben definirla <strong>antes</strong> de crear sus atajos personales.<h2 id=ejecutando-comandos>Ejecutando comandos</h2><p>Ya estamos listos para crear atajos que ejecuten comandos de vim, lo que se conoce como <a rel="noopener external" href=https://neovim.io/doc/user/vimindex.html#_6.-ex-commands target=_blank>Ex-commands</a>.<p>Podemos hacer esto de varias maneras pero esta es mi favorita:<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=plain><span class=giallo-l><span>&lt;cmd>...&lt;cr></span></span></code></pre><p><code>&lt;cmd></code> es una secuencia especial que le indica a Neovim que queremos ejecutar una expresión. Y <code>&lt;cr></code> representa la tecla <code>Enter</code>, lo que marca el fin de la expresión que queremos ejecutar.<p>Por ejemplo:<ul><li>Guardar el archivo actual.</ul><pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>w'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>write&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Guardar'</span><span>})</span></span></code></pre><ul><li>Cerrar todos los archivos y salir del editor.</ul><pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>q'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>quitall&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Salir de vim'</span><span>})</span></span></code></pre><h2 id=instalando-plugins>Instalando plugins</h2><p>En un futuro cercano Neovim tendrá <a rel="noopener external" href=https://neovim.io/doc/user/pack.html#_plugin-manager target=_blank>su propio manejador de plugins</a>. Sin embargo, tardará un par de años para que esté disponible en todos los sistemas operativos de manera oficial. Por ahora sólo aquellos que usen la "versión nightly" de Neovim tienen acceso a esta funcionalidad.<p>Curiosamente, el manejador de plugins de Neovim está basado en un plugin llamado <a rel="noopener external" href=https://nvim-mini.org/mini.nvim/doc/mini-deps.html target=_blank>mini.deps</a>. Entonces mientras el equipo de Neovim trabaja en incorporar una solución nativa nosotros podemos usar <code>mini.deps</code>.<p>Ahora la pregunta es <em>¿cómo instalamos un plugin sin un manejador de plugins?</em><p>Tanto en Vim como en Neovim tenemos una funcionalidad llamada <a href=https://vonheikemen.github.io/devlog/es/tools/installing-neovim-plugins-without-a-plugin-manager/>vim packages</a>, que básicamente nos permite usar plugins si los descargamos en una ubicación especial.<p>Les recomiendo usar Neovim en modo headless para crear el directorio donde deberán instalar sus plugins. Ejecuten este comando en su terminal.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=shellscript><span class=giallo-l><span style=color:#7aa89f>nvim</span><span style=color:#98bb6c> --headless -c 'call mkdir(stdpath("data") . "/site/pack/deps/start/", "p")' -c 'quit'</span></span></code></pre><p>Ahora bien, para visualizar la ubicación de este nuevo directorio ejecuten este comando.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=shellscript><span class=giallo-l><span style=color:#7aa89f>nvim</span><span style=color:#98bb6c> --headless -c 'echo stdpath("data") . "/site/pack/deps/start/"' -c 'quit'</span></span></code></pre><p>Ahora deben navegar a ese directorio, ahí es donde deben ejecutar el comando <code>git clone</code>.<ul><li>Instalar <a rel="noopener external" href=https://github.com/nvim-mini/mini.nvim target=_blank>mini.nvim</a></ul><p><code>mini.deps</code> is parte de un proyecto llamado <code>mini.nvim</code>, el cual es una colección de módulos que busca solucionar problemas comunes y donde sea posible mejorar funcionalidades nativas de Neovim.<p>Para descargar <code>mini.nvim</code> ejecuten este comando.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=plain><span class=giallo-l><span>git clone --filter=blob:none https://github.com/nvim-mini/mini.nvim</span></span></code></pre><p>Luego de instalar el plugin debemos generar los tags para la documentación.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=shellscript><span class=giallo-l><span style=color:#7aa89f>nvim</span><span style=color:#98bb6c> --headless -c 'helptags ALL' -c 'quit'</span></span></code></pre><p>Para empezar a usar un módulo de <code>mini.nvim</code> debemos ejecutar la función <code>require</code>. Pero aquí les recomiendo hacerlo de una manera "segura." Ya que puede darse el caso de que copiamos nuestra configuración a un sistema nuevo pero nos olvidamos de descargar <code>mini.nvim</code>. Queremos evitar que nos aparezca un error aterrador al iniciar el editor. Entonces, agregamos este código a nuestra configuración.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>local ok, MiniDeps</span><span style=color:#e6c384> =</span><span style=color:#7e9cd8> pcall</span><span>(</span><span style=color:#7e9cd8>require</span><span>, </span><span style=color:#98bb6c>'mini.deps'</span><span>)</span></span>
<span class=giallo-l><span style=color:#957fb8>if</span><span style=color:#e6c384> not</span><span> ok</span><span style=color:#957fb8> then</span></span>
<span class=giallo-l><span>  vim.</span><span style=color:#7e9cd8>notify</span><span>(</span><span style=color:#98bb6c>'[WARN] módulo mini.deps no encontrado'</span><span>, vim.log.levels.WARN)</span></span>
<span class=giallo-l><span style=color:#957fb8>  return</span></span>
<span class=giallo-l><span style=color:#957fb8>end</span></span></code></pre><p>Con esto podemos capturar cualquier error al momento de cargar el módulo <code>mini.deps</code> y podemos mostrar un mensaje descriptivo. También detenemos la ejecución del script para evitar otros errores. De esta manera siempre podremos usar Neovim incluso sin plugins.<p>Si todo sale bien las funciones del módulo <code>mini.deps</code> estarán disponibles en la variable <code>MiniDeps</code>.<p>Deben saber que todas las funcionalidades que ofrece <code>mini.nvim</code> son opcionales, significa que debemos hacer algo en nuestra configuración, simplemente cargar un módulo no es suficiente. En este caso debemos ejecutar una función llamada <code>.setup()</code>.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>MiniDeps.</span><span style=color:#7e9cd8>setup</span><span>({})</span></span></code></pre><ul><li>Instalar <a rel="noopener external" href=https://github.com/neovim/nvim-lspconfig target=_blank>nvim-lspconfig</a></ul><p>Este es el plugin que nos ayudará a tener esas funcionalidades como las de un IDE.<p>En este punto ya podemos usar <code>mini.deps</code> para instalar plugins nuevos a nuestra configuración.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>MiniDeps.</span><span style=color:#7e9cd8>add</span><span>(</span><span style=color:#98bb6c>'neovim/nvim-lspconfig'</span><span>)</span></span></code></pre><p>La función <code>.add()</code> será la encargada de instalar el plugin y asegurarse de que esté incluido en el "runtimepath" de Neovim. También es la razón principal por la que recomiendo usar <code>mini.deps</code>. Verán, en futuras versiones de Neovim podremos agregar plugins de esta manera:<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.pack.</span><span style=color:#7e9cd8>add</span><span>({</span><span style=color:#98bb6c>'https://github.com/neovim/nvim-lspconfig'</span><span>})</span></span></code></pre><p>Cabe destacar que sí hay diferencias entre <code>mini.deps</code> y <code>vim.pack</code>, pero son sólo detalles. La implementación puede que sea diferente pero las tareas que ejecutan son las mismas.<p>Por ahora vamos a centrarnos en <code>mini.deps</code>.<p>Si necesitamos agregar más información del plugin que vamos a descargar debemos reemplazar la cadena de texto con una "tabla de lua." Por ejemplo, digamos que queremos descargar una versión anterior de <code>nvim-lspconfig</code>.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>MiniDeps.</span><span style=color:#7e9cd8>add</span><span>({</span></span>
<span class=giallo-l><span>  source</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'neovim/nvim-lspconfig'</span><span>,</span></span>
<span class=giallo-l><span>  checkout</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'v1.8.0'</span></span>
<span class=giallo-l><span>})</span></span></code></pre><p>Aquí el primer argumento de <code>.add()</code> es una tabla. La propiedad <code>source</code> es el link del plugin. En <code>mini.deps</code> github tiene un trato especial por ser popular entre desarrolladores de plugins, podemos simplemente especificar el usuario de github y el nombre del repositorio. La propiedad <code>checkout</code> puede ser un commit, un tag o una rama. En este caso <a rel="noopener external" href=https://github.com/neovim/nvim-lspconfig/releases/tag/v1.8.0 target=_blank>v1.8.0</a> es un tag en el repositorio <code>nvim-lspconfig</code>, es la última versión que ofrece soporte para <strong>Neovim v0.9</strong>.<p>Si desean conocer más sobre <code>mini.deps</code> pueden leer la documentación oficial: <a rel="noopener external" href=https://nvim-mini.org/mini.nvim/doc/mini-deps.html target=_blank>mini.nvim/doc/mini-deps.html</a>.<h2 id=explorador-de-archivos>Explorador de archivos</h2><p>Neovim ya tiene un explorador archivos, se <a href=https://vonheikemen.github.io/devlog/es/tools/using-netrw-vim-builtin-file-explorer/>llama netrw</a>. Yo no lo uso porque tiene algunas peculiaridades que no me agradan. Aquí voy a recomendarles <a rel="noopener external" href=https://github.com/nvim-mini/mini.nvim/blob/main/readmes/mini-files.md target=_blank>mini.files</a>, el explorador de archivos de <code>mini.nvim</code>.<p>Para usar <code>mini.files</code> debemos invocar la función <code>setup()</code> del módulo correspondiente.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.files'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({})</span></span></code></pre><p>Esta es una convención que muchos plugins creados con lua siguen. Algunas veces <strong>deben</strong> invocar la función <code>.setup()</code> para habilitar el plugin. Debo enfatizar que es una convención, no es una regla. Hay algunos plugins que activan sus funcionalidades automáticamente.<p>Ahora bien ¿Cómo se usa <code>mini.files</code>?<p>Debemos crear un atajo de teclado para abrir el explorador.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>e'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua MiniFiles.open()&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Explorador de archivos'</span><span>})</span></span></code></pre><p>Luego de abrir el explorador pueden usar el atajo <code>g?</code>, este abre una ventana de ayuda que les mostrará todos los atajos disponibles dentro del explorador.<p>¿Y cómo se configura <code>mini.files</code>?<p>Tienen que agregar su configuración dentro de las llaves <code>{}</code>. Por ejemplo.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.files'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({</span></span>
<span class=giallo-l><span>  mappings</span><span style=color:#e6c384> =</span><span> {</span></span>
<span class=giallo-l><span>    show_help</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'gh'</span><span>,</span></span>
<span class=giallo-l><span>  },</span></span>
<span class=giallo-l><span>})</span></span></code></pre><p>Esto cambia el atajo que muestra la ventana de ayuda. En lugar de ser <code>g?</code> ahora es <code>gh</code>.<p>La configuración como tal está dentro de una "tabla." Si hay una parte de la sintaxis de lua que deben aprender es esa. Saber cómo se crea y modifica una tabla les ahorrará muchos dolores de cabeza.<p>¿Cómo sabe uno qué opciones tiene disponible un plugin?<p>Podemos navegar a la documentación "offline" de un plugin usando el comando <code>:help</code>.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>:help mini.files</span></span></code></pre><p>Ese comando los llevará a <a rel="noopener external" href=https://github.com/nvim-mini/mini.nvim/blob/main/doc/mini-files.txt target=_blank>la página de ayuda de mini.files</a>.<p>Vale la pena mencionar que pueden usar la tecla <code>Tab</code> para autocompletar el argumento del comando <code>:help</code>. Por ejemplo, si escriben <code>:help mini</code> y luego presionan <code>Tab</code> aparecerá una lista de todos los tags que contienen la palabra <code>mini</code>.<p>Si la fuente (tipo de letra) que tienen configurada en su terminal no contiene "íconos" pueden usar el módulo <a rel="noopener external" href=https://github.com/nvim-mini/mini.nvim/blob/main/readmes/mini-icons.md target=_blank>mini.icons</a>. En la propiedad <code>style</code> colocan el valor <code>ascii</code>.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.icons'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({style</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'ascii'</span><span>})</span></span></code></pre><h2 id=navegando-entre-archivos>Navegando entre archivos</h2><p>Aquí hablaremos de los métodos que podemos usar para navegar entre archivos abiertos.<p>Cuando no tengo plugins instalados uso el comando <code>:files</code> para listar los archivos abiertos. Luego uso el comando <code>:buffer</code> para ir al archivo que quiero. Y para que este proceso sea conveniente creo un atajo de teclado.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>&lt;space>'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>files&lt;cr>:buffer '</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Listar archivos'</span><span>})</span></span></code></pre><p>El comando <code>:buffer</code> acepta como argumento el nombre del archivo o el "id" del buffer. También pueden autocompletar el nombre usando la tecla <code>Tab</code>, así que no tienen escribir el nombre completo del archivo.<p>Pero ya que tenemos <code>mini.nvim</code> instalado podemos usar el módulo <a rel="noopener external" href=https://github.com/nvim-mini/mini.nvim/blob/main/readmes/mini-pick.md target=_blank>mini.pick</a>, este provee una especie de buscador interactivo que hace este proceso aún más cómodo.<p>También tienen la opción de usar el módulo <a rel="noopener external" href=https://github.com/nvim-mini/mini.nvim/blob/main/readmes/mini-extra.md target=_blank>mini.extra</a> para expandir las capacidades de <code>mini.pick</code>.<p>En fin, vamos a habilitar <code>mini.pick</code>.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.pick'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({})</span></span></code></pre><p>Luego de esto podemos crear los atajos para navegar entre archivos.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>&lt;space>'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>Pick buffers&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Listar archivos abiertos'</span><span>})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>ff'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>Pick files&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Listar todos los archivos'</span><span>})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>fh'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>Pick help&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Listar help tags'</span><span>})</span></span></code></pre><h2 id=autocompletado-de-codigo>Autocompletado de código</h2><p>Para esto podemos usar <a rel="noopener external" href=https://github.com/nvim-mini/mini.nvim/blob/main/readmes/mini-completion.md target=_blank>mini.completion</a> y <a rel="noopener external" href=https://github.com/nvim-mini/mini.nvim/blob/main/readmes/mini-snippets.md target=_blank>mini.snippets</a>.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.snippets'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({})</span></span>
<span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.completion'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({})</span></span></code></pre><p><code>mini.completion</code> utiliza el mecanismo nativo de Neovim y le hace algunas mejoras. Por defecto debemos presionar atajos específicos dependiendo del tipo de completado que queremos activar. <code>mini.completion</code> nos libera de esa carga, activando el completado de código mientras escribimos. En otras palabras, <code>mini.completion</code> hace posible tener autocompletado real dentro de Neovim.<p>Por defecto <code>mini.completion</code> activa las sugerencias basadas en las palabras que se encuentren en el archivo actual. Pero de ser posible utiliza el cliente LSP de Neovim para mostrar sugerencias más relevantes.<p>Para controlar el menú de sugerencias utilizamos los atajos nativos de Neovim:<ul><li><p><code>&lt;Down></code>: Selecciona el siguiente item en la lista.</p><li><p><code>&lt;Up></code>: Selecciona el item anterior en la lista.</p><li><p><code>&lt;Ctrl-n></code>: Selecciona e inserta el contenido del siguiente item en la lista.</p><li><p><code>&lt;Ctrl-p></code>: Selecciona e inserta el contenido del item anterior.</p><li><p><code>&lt;Ctrl-y></code>: Confirma el item seleccionado.</p><li><p><code>&lt;Ctrl-e></code>: Cancela el proceso de completado y esconde el menú.</p><li><p><code>&lt;Enter></code>: Si el item fue seleccionado con <code>&lt;Up></code> o <code>&lt;Down></code> confirma la selección. Si no hay ningún item seleccionado, esconde el menú. Si no, inserta un salto de línea.</p></ul><p>Desafortunadamente, el menú de completado de código en Neovim no ofrece ningún soporte para "snippets" de código. Para eso tenemos <code>mini.snippets</code>. Vale la pena mencionar que las nuevas versiones de Neovim sí tienen un soporte básico para snippets... pero incluso la versión más reciente no tiene tantas funcionalidades como <code>mini.snippets</code>.<h2 id=cliente-lsp>Cliente LSP</h2><p>El cliente LSP es lo que hace posible que Neovim obtenga funcionalidades que antes sólo podías encuentrar en un IDE. Cosas como saltar a la definición de una clase, renombrar una variable, inspeccionar los argumentos de una función. Ustedes entienden. Pero este "cliente" no funciona por sí solo, necesitamos un servidor. En este caso un "servidor" debe ser un programa externo que implementa el <a rel="noopener external" href=https://microsoft.github.io/language-server-protocol/overviews/lsp/overview/ target=_blank>protocolo LSP</a>. Si desean conocer más del protocolo LSP y los servidores LSP pueden ver este video: <a href="https://www.youtube.com/watch?v=LaS32vctfOY" rel="noopener external" target=_blank>LSP explained (5 min)</a>.<p>Para usar el cliente LSP vamos a seguir estos pasos:<ul><li>Instalar un servidor LSP<li>Configurar el servidor LSP<li>Crear atajos de teclado (opcional)</ul><h3 id=paso-1-instalar-un-servidor-lsp>Paso 1: Instalar un servidor LSP</h3><p>La comunidad de Neovim ha creado un recurso donde podemos encontrar una lista de servidores LSP. Esta se encuentra en la documentación del plugin <code>nvim-lspconfig</code>, en el archivo <a rel="noopener external" href=https://github.com/neovim/nvim-lspconfig/blob/master/doc/configs.md target=_blank>doc/configs.md</a>.<p>Me gusta proveer ejemplos prácticos que ustedes pueden probar, así que voy a mostrarles los comandos para instalar el servidor LSP de los lenguajes <code>go</code> y <code>rust</code>.<p>Si ya tienen en su sistema la <a rel="noopener external" href=https://go.dev/doc/install target=_blank>herramienta para go</a>, pueden instalar el servidor LSP ejecutando este comando en su terminal.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=plain><span class=giallo-l><span>go install golang.org/x/tools/gopls@latest</span></span></code></pre><p>Para <code>rust</code>, si ya tienen <a rel="noopener external" href=https://rust-lang.github.io/rustup/ target=_blank>rustup</a> pueden instalar el servidor LSP <code>rust_analyzer</code>.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=plain><span class=giallo-l><span>rustup component add rust-analyzer</span></span></code></pre><h3 id=paso-2-configurar-un-servidor-lsp>Paso 2: Configurar un servidor LSP</h3><p>Ahora deben "habilitar" cada servidor LSP instalado en el sistema.<p>En <strong>Neovim v0.11</strong> pueden usar la función <a rel="noopener external" href=https://neovim.io/doc/user/lsp.html#vim.lsp.enable() target=_blank>vim.lsp.enable()</a>.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.lsp.</span><span style=color:#7e9cd8>enable</span><span>(</span><span style=color:#98bb6c>'example_server'</span><span>)</span></span></code></pre><p>Pero en <strong>Neovim v0.10</strong> o alguna versión anterior, deben usar la función <code>.setup()</code> del módulo <code>lspconfig</code>.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'lspconfig'</span><span>).example_server.</span><span style=color:#7e9cd8>setup</span><span>({})</span></span></code></pre><p>En estos ejemplos <code>example_server</code> debe ser el nombre del servidor.<p>Para utilizar los servidores LSP de <code>go</code> y <code>rust</code> podemos usar este método.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.lsp.</span><span style=color:#7e9cd8>enable</span><span>({</span><span style=color:#98bb6c>'gopls'</span><span>, </span><span style=color:#98bb6c>'rust_analyzer'</span><span>})</span></span></code></pre><p>O este.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'lspconfig'</span><span>).gopls.</span><span style=color:#7e9cd8>setup</span><span>({})</span></span>
<span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'lspconfig'</span><span>).rust_analyzer.</span><span style=color:#7e9cd8>setup</span><span>({})</span></span></code></pre><p>Si quieren que su configuración sea compatible en diferentes versiones de Neovim pueden crear una función que invoque el método correcto de acuerdo a la versión de Neovim que están usando.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span style=color:#727169>-- Esta función utiliza el módulo lspconfig en versiones anteriores de Neovim.</span></span>
<span class=giallo-l><span style=color:#727169>-- vim.lsp.enable() sólo está disponible en Neovim v0.11</span></span>
<span class=giallo-l><span>local</span><span style=color:#957fb8> function</span><span style=color:#7e9cd8> lsp_setup</span><span style=color:#9cabca>(</span><span>server</span><span style=color:#9cabca>,</span><span> opts</span><span style=color:#9cabca>)</span></span>
<span class=giallo-l><span style=color:#957fb8>  if</span><span> vim.fn.</span><span style=color:#7e9cd8>has</span><span>(</span><span style=color:#98bb6c>'nvim-0.11'</span><span>) </span><span style=color:#e6c384>==</span><span style=color:#d27e99> 0</span><span style=color:#957fb8> then</span></span>
<span class=giallo-l><span style=color:#7e9cd8>    require</span><span>(</span><span style=color:#98bb6c>'lspconfig'</span><span>)[server].</span><span style=color:#7e9cd8>setup</span><span>(opts)</span></span>
<span class=giallo-l><span style=color:#957fb8>    return</span></span>
<span class=giallo-l><span style=color:#957fb8>  end</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#957fb8>  if</span><span style=color:#e6c384> not</span><span> vim.</span><span style=color:#7e9cd8>tbl_isempty</span><span>(opts) </span><span style=color:#957fb8>then</span></span>
<span class=giallo-l><span>    vim.lsp.</span><span style=color:#7e9cd8>config</span><span>(server, opts)</span></span>
<span class=giallo-l><span style=color:#957fb8>  end</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>  vim.lsp.</span><span style=color:#7e9cd8>enable</span><span>(server)</span></span>
<span class=giallo-l><span style=color:#957fb8>end</span></span></code></pre><p>Ahora pueden configurar sus servidores de esta manera:<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span style=color:#7e9cd8>lsp_setup</span><span>(</span><span style=color:#98bb6c>'gopls'</span><span>, {})</span></span>
<span class=giallo-l><span style=color:#7e9cd8>lsp_setup</span><span>(</span><span style=color:#98bb6c>'rust_analyzer'</span><span>, {})</span></span></code></pre><p>Bien. Por los momentos hay un puñado de servidores LSP que no pueden ser habilitados usando <code>vim.lsp.enable()</code>. La lista de servidores que aún no pueden usar el nuevo método está aquí: <a rel="noopener external" href=https://github.com/neovim/nvim-lspconfig/issues/3705 target=_blank>nvim-lspconfig/issues/3705</a>.<h3 id=paso-3-los-atajos>Paso 3: los atajos</h3><p>Una vez que tenemos un servidor LSP activo en el archivo que estamos editando podremos utilizar las funciones que se encuentran en el módulo <a rel="noopener external" href=https://neovim.io/doc/user/lsp.html#lsp-buf target=_blank>vim.lsp.buf</a>. En Neovim v0.11 ya tenemos disponible una serie de atajos de teclado para ciertas funcionalidades pero en versiones anteriores debemos crear los atajos nosotros mismos. En ese caso podemos usar este código:<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span style=color:#727169>-- NOTE: Estos atajos de teclado forman parte de Neovim v0.11.</span></span>
<span class=giallo-l><span style=color:#727169>-- No hay necesidad de agregarlos en su configuración personal si ya</span></span>
<span class=giallo-l><span style=color:#727169>-- están usando una versión de Neovim mayor a v0.11.</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Mostrar argumentos de función</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'i'</span><span>, </span><span style=color:#98bb6c>'&lt;C-s>'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.signature_help()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Listar todos los símbolos en el archivo actual</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'gO'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.document_symbol()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Mostrar implementaciones</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'gri'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.implementation()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Saltar a definición de tipo</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'grt'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.type_definition()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Listar referencias</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'grr'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.references()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Renombrar símbolo</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'grn'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.rename()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Listar "code actions" disponibles en la posición del cursor</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'gra'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.code_action()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Mostrar "diagnósticos" de la línea actual</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;C-w>d'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.diagnostic.open_float()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;C-w>&lt;C-d>'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.diagnostic.open_float()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Saltar al diagnóstico anterior</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'[d'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.diagnostic.goto_prev()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Saltar al siguiente diagnóstico</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>']d'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.diagnostic.goto_next()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>vim.api.</span><span style=color:#7e9cd8>nvim_create_autocmd</span><span>(</span><span style=color:#98bb6c>'LspAttach'</span><span>, {</span></span>
<span class=giallo-l><span style=color:#7e9cd8>  callback</span><span style=color:#e6c384> =</span><span style=color:#957fb8> function</span><span style=color:#9cabca>(</span><span>event</span><span style=color:#9cabca>)</span></span>
<span class=giallo-l><span style=color:#727169>    -- NOTE: `K` por defecto utiliza el programa configurado en la opción</span></span>
<span class=giallo-l><span style=color:#727169>    -- 'keywordprg' y aquí lo forzamos a usar el cliente LSP</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>    -- Muestra información sobre símbolo debajo del cursor</span></span>
<span class=giallo-l><span>    vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'K'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.hover()&lt;cr>'</span><span>, {buffer</span><span style=color:#e6c384> =</span><span> event.buf})</span></span>
<span class=giallo-l><span style=color:#957fb8>  end</span><span>,</span></span>
<span class=giallo-l><span>})</span></span></code></pre><h3 id=deben-tener-en-cuenta>Deben tener en cuenta...</h3><p>Cada servidor LSP es parte de un proyecto independiente. Es decir, un servidor LSP tiene su propio equipo de desarrollo que no está relacionado con Neovim. Tienen sus propios defectos (bugs), limitaciones y en ocasiones tienen sus propios archivos de configuración.<p>Algunos servidores LSP fueron creados exclusivamente para VS Code. El hecho de que Neovim (u otros editores) puedan usarlos es mera coincidencia. Tengo entendido que los servidores LSP para <code>html</code> y <code>css</code> entran en esta categoría. Estos pueden tener funcionalidades que sólo VS Code puede usar, o que tienen mejor desempeño en VS Code.<h2 id=mencion-honorifica>Mención honorífica</h2><p><a rel="noopener external" href=https://github.com/nvim-treesitter/nvim-treesitter target=_blank>nvim-treesitter</a> es un plugin que fue creado en 2020. Mucha gente en la comunidad de Neovim dirá que es indispensable, y yo concuerdo hasta cierto punto. Es un plugin increíble... cuando otro plugin lo utiliza como dependencia. Verán, <code>tree-sitter</code> le permite a Neovim recopilar información sobre el archivo actual, y los autores de plugins pueden hacer cosas grandiosas con esa información. Probablemente la funcionalidad que más destaca es el resaltado de código. Si <code>treesitter</code> está configurado correctamente puede mejorar el resaltado de código de muchos lenguajes.<p>Pero hay cosas que deben saber:<ul><li>Necesita un compilador de <code>C</code>. <ul><li>Por lo general no es problema en <code>linux</code> o <code>mac</code> pero en <code>windows</code> es un tema complicado.</ul><li>Sólo garantiza soporte para la versión estable actual de Neovim. <ul><li>Puede dejar el soporte para versiones previas en cualquier momento.</ul><li>Se considera como un plugin experimental. <ul><li>Puede introducir cambios drásticos en cualquier momento.<li>Usan <code>git tags</code> por si necesitan descargar una <a rel="noopener external" href=https://github.com/nvim-treesitter/nvim-treesitter/tags target=_blank>versión previa</a>.</ul></ul><p>Para conocer más detalles de <code>tree-sitter</code> pueden ver este video: <a href="https://www.youtube.com/watch?v=09-9LltqWLY" rel="noopener external" target=_blank>tree-sitter explained (15 min)</a>.<p>Si quieren probar nvim-treesitter, pueden usar el comando <code>:TSInstall</code> para descargar el "treesitter parser" de uno de los lenguajes que soporta nvim-treesitter. Después de eso podrán habilitar el resaltado de sintaxis mejorado basado en treesitter.<p>Por ejemplo, pueden descargar el treesitter parser de javascript usando este comando.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=viml><span class=giallo-l><span>:TSInstall javascript</span></span></code></pre><p>Luego deben crear un autocomando donde deben ejecutar la función <code>vim.treesitter.start()</code>.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.api.</span><span style=color:#7e9cd8>nvim_create_autocmd</span><span>(</span><span style=color:#98bb6c>'FileType'</span><span>, {</span></span>
<span class=giallo-l><span>  pattern</span><span style=color:#e6c384> =</span><span> {</span><span style=color:#98bb6c>'javascript'</span><span>, </span><span style=color:#98bb6c>'javascriptreact'</span><span>, </span><span style=color:#98bb6c>'js'</span><span>, </span><span style=color:#98bb6c>'jsx'</span><span>},</span></span>
<span class=giallo-l><span style=color:#7e9cd8>  callback</span><span style=color:#e6c384> =</span><span style=color:#957fb8> function</span><span style=color:#9cabca>()</span></span>
<span class=giallo-l><span>    vim.treesitter.</span><span style=color:#7e9cd8>start</span><span>()</span></span>
<span class=giallo-l><span style=color:#957fb8>  end</span><span>,</span></span>
<span class=giallo-l><span>})</span></span></code></pre><h2 id=init-lua>init.lua</h2><p>Si tienen la posibilidad de instalar Neovim v0.11 esto es todo lo que necesitan para empezar. Si necesitan una configuración compatible con Neovim v0.9 usen <a href=https://vonheikemen.github.io/devlog/es/tools/simple-neovim-config/#configuracion-para-versiones-anteriores>el código de la siguiente sección</a>.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span style=color:#727169>-- NOTE: Esta configuración es para Neovim v0.11 o mayor</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Guia oficial de lua en Neovim:</span></span>
<span class=giallo-l><span style=color:#727169>-- https://neovim.io/doc/user/lua-guide.html</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>vim.o.number</span><span style=color:#e6c384> =</span><span style=color:#ffa066> true</span></span>
<span class=giallo-l><span>vim.o.tabstop</span><span style=color:#e6c384> =</span><span style=color:#d27e99> 2</span></span>
<span class=giallo-l><span>vim.o.shiftwidth</span><span style=color:#e6c384> =</span><span style=color:#d27e99> 2</span></span>
<span class=giallo-l><span>vim.o.smartcase</span><span style=color:#e6c384> =</span><span style=color:#ffa066> true</span></span>
<span class=giallo-l><span>vim.o.ignorecase</span><span style=color:#e6c384> =</span><span style=color:#ffa066> true</span></span>
<span class=giallo-l><span>vim.o.wrap</span><span style=color:#e6c384> =</span><span style=color:#ffa066> false</span></span>
<span class=giallo-l><span>vim.o.hlsearch</span><span style=color:#e6c384> =</span><span style=color:#ffa066> false</span></span>
<span class=giallo-l><span>vim.o.signcolumn</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'yes'</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Tecla Espacio como &lt;leader></span></span>
<span class=giallo-l><span>vim.g.mapleader</span><span style=color:#e6c384> =</span><span> vim.</span><span style=color:#7e9cd8>keycode</span><span>(</span><span style=color:#98bb6c>'&lt;Space>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Interación con el portapapeles</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>({</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'x'</span><span>}, </span><span style=color:#98bb6c>'gy'</span><span>, </span><span style=color:#98bb6c>'"+y'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Copiar al portapapel'</span><span>})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>({</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'x'</span><span>}, </span><span style=color:#98bb6c>'gp'</span><span>, </span><span style=color:#98bb6c>'"+p'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Pegar del portapapel'</span><span>})</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Comandos</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>w'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>write&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Guardar'</span><span>})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>q'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>quitall&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Salir de vim'</span><span>})</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Tema del editor</span></span>
<span class=giallo-l><span>vim.cmd.</span><span style=color:#7e9cd8>colorscheme</span><span>(</span><span style=color:#98bb6c>'retrobox'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>local ok, MiniDeps</span><span style=color:#e6c384> =</span><span style=color:#7e9cd8> pcall</span><span>(</span><span style=color:#7e9cd8>require</span><span>, </span><span style=color:#98bb6c>'mini.deps'</span><span>)</span></span>
<span class=giallo-l><span style=color:#957fb8>if</span><span style=color:#e6c384> not</span><span> ok</span><span style=color:#957fb8> then</span></span>
<span class=giallo-l><span>  vim.</span><span style=color:#7e9cd8>notify</span><span>(</span><span style=color:#98bb6c>'[WARN] módulo mini.deps no encontrado'</span><span>, vim.log.levels.WARN)</span></span>
<span class=giallo-l><span style=color:#957fb8>  return</span></span>
<span class=giallo-l><span style=color:#957fb8>end</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>MiniDeps.</span><span style=color:#7e9cd8>setup</span><span>({})</span></span>
<span class=giallo-l><span>MiniDeps.</span><span style=color:#7e9cd8>add</span><span>(</span><span style=color:#98bb6c>'neovim/nvim-lspconfig'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.snippets'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({})</span></span>
<span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.completion'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({})</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.files'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>e'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua MiniFiles.open()&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Explorador de archivos'</span><span>})</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.pick'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>&lt;space>'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>Pick buffers&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Listar archivos abiertos'</span><span>})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>ff'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>Pick files&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Listar todos los archivos'</span><span>})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>fh'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>Pick help&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Listar help tags'</span><span>})</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Lista de servidores LSP:</span></span>
<span class=giallo-l><span style=color:#727169>-- https://github.com/neovim/nvim-lspconfig/blob/master/doc/configs.md</span></span>
<span class=giallo-l><span>vim.lsp.</span><span style=color:#7e9cd8>enable</span><span>({</span><span style=color:#98bb6c>'gopls'</span><span>, </span><span style=color:#98bb6c>'rust_analyzer'</span><span>})</span></span></code></pre><h2 id=configuracion-para-versiones-anteriores>Configuración para versiones anteriores</h2><p>Si están usando un sistema operativo basado en Ubuntu o Debian deben estar conscientes de la versión de Neovim que se encuentra en los repositorios oficiales. En Ubuntu 24.04 tienen disponible Neovim v0.9.5. Y en Debian 13 se encuentra disponible Neovim v0.10.<p>Aún pueden tener una buena experiencia usando Neovim en sus versiones anteriores pero el código que necesitan será un poco más complejo.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span style=color:#727169>-- NOTE: Esta configuración es compatible con Neovim v0.9.5</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Guia oficial de lua en Neovim:</span></span>
<span class=giallo-l><span style=color:#727169>-- https://neovim.io/doc/user/lua-guide.html</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>vim.o.number</span><span style=color:#e6c384> =</span><span style=color:#ffa066> true</span></span>
<span class=giallo-l><span>vim.o.tabstop</span><span style=color:#e6c384> =</span><span style=color:#d27e99> 2</span></span>
<span class=giallo-l><span>vim.o.shiftwidth</span><span style=color:#e6c384> =</span><span style=color:#d27e99> 2</span></span>
<span class=giallo-l><span>vim.o.smartcase</span><span style=color:#e6c384> =</span><span style=color:#ffa066> true</span></span>
<span class=giallo-l><span>vim.o.ignorecase</span><span style=color:#e6c384> =</span><span style=color:#ffa066> true</span></span>
<span class=giallo-l><span>vim.o.wrap</span><span style=color:#e6c384> =</span><span style=color:#ffa066> false</span></span>
<span class=giallo-l><span>vim.o.hlsearch</span><span style=color:#e6c384> =</span><span style=color:#ffa066> false</span></span>
<span class=giallo-l><span>vim.o.signcolumn</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'yes'</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Tecla Espacio como &lt;leader></span></span>
<span class=giallo-l><span>vim.g.mapleader</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> ' '</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Interación con el portapapeles</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>({</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'x'</span><span>}, </span><span style=color:#98bb6c>'gy'</span><span>, </span><span style=color:#98bb6c>'"+y'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Copiar al portapapel'</span><span>})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>({</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'x'</span><span>}, </span><span style=color:#98bb6c>'gp'</span><span>, </span><span style=color:#98bb6c>'"+p'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Pegar del portapapel'</span><span>})</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Comandos</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>w'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>write&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Guardar'</span><span>})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>q'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>quitall&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Salir de vim'</span><span>})</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Tema del editor</span></span>
<span class=giallo-l><span>local ok_theme</span><span style=color:#e6c384> =</span><span style=color:#7e9cd8> pcall</span><span>(vim.cmd.colorscheme, </span><span style=color:#98bb6c>'retrobox'</span><span>)</span></span>
<span class=giallo-l><span style=color:#957fb8>if</span><span style=color:#e6c384> not</span><span> ok_theme</span><span style=color:#957fb8> then</span></span>
<span class=giallo-l><span>  vim.cmd.</span><span style=color:#7e9cd8>colorscheme</span><span>(</span><span style=color:#98bb6c>'habamax'</span><span>)</span></span>
<span class=giallo-l><span style=color:#957fb8>end</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>local ok, MiniDeps</span><span style=color:#e6c384> =</span><span style=color:#7e9cd8> pcall</span><span>(</span><span style=color:#7e9cd8>require</span><span>, </span><span style=color:#98bb6c>'mini.deps'</span><span>)</span></span>
<span class=giallo-l><span style=color:#957fb8>if</span><span style=color:#e6c384> not</span><span> ok</span><span style=color:#957fb8> then</span></span>
<span class=giallo-l><span>  vim.</span><span style=color:#7e9cd8>notify</span><span>(</span><span style=color:#98bb6c>'[WARN] módulo mini.deps no encontrado'</span><span>, vim.log.levels.WARN)</span></span>
<span class=giallo-l><span style=color:#957fb8>  return</span></span>
<span class=giallo-l><span style=color:#957fb8>end</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>MiniDeps.</span><span style=color:#7e9cd8>setup</span><span>({})</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#957fb8>if</span><span> vim.fn.</span><span style=color:#7e9cd8>has</span><span>(</span><span style=color:#98bb6c>'nvim-0.11'</span><span>) </span><span style=color:#e6c384>==</span><span style=color:#d27e99> 1</span><span style=color:#957fb8> then</span></span>
<span class=giallo-l><span>  MiniDeps.</span><span style=color:#7e9cd8>add</span><span>(</span><span style=color:#98bb6c>'neovim/nvim-lspconfig'</span><span>)</span></span>
<span class=giallo-l><span style=color:#957fb8>else</span></span>
<span class=giallo-l><span>  MiniDeps.</span><span style=color:#7e9cd8>add</span><span>({</span></span>
<span class=giallo-l><span>    source</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'neovim/nvim-lspconfig'</span><span>,</span></span>
<span class=giallo-l><span>    checkout</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'v1.8.0'</span></span>
<span class=giallo-l><span>  })</span></span>
<span class=giallo-l><span style=color:#957fb8>end</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.snippets'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({})</span></span>
<span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.completion'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({})</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.files'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>e'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua MiniFiles.open()&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Explorador de archivos'</span><span>})</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.pick'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>&lt;space>'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>Pick buffers&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Listar archivos abiertos'</span><span>})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>ff'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>Pick files&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Listar todos los archivos'</span><span>})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>fh'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>Pick help&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Listar help tags'</span><span>})</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Mostrar argumentos de función</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'i'</span><span>, </span><span style=color:#98bb6c>'&lt;C-s>'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.signature_help()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Listar todos los símbolos en el archivo actual</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'gO'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.document_symbol()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Mostrar implementaciones</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'gri'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.implementation()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Saltar a definición de tipo</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'grt'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.type_definition()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Listar referencias</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'grr'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.references()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Renombrar símbolo</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'grn'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.rename()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Listar "code actions" disponibles en la posición del cursor</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'gra'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.code_action()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Mostrar "diagnósticos" de la línea actual</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;C-w>d'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.diagnostic.open_float()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;C-w>&lt;C-d>'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.diagnostic.open_float()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Saltar al diagnóstico anterior</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'[d'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.diagnostic.goto_prev()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Saltar al siguiente diagnóstico</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>']d'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.diagnostic.goto_next()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>vim.api.</span><span style=color:#7e9cd8>nvim_create_autocmd</span><span>(</span><span style=color:#98bb6c>'LspAttach'</span><span>, {</span></span>
<span class=giallo-l><span style=color:#7e9cd8>  callback</span><span style=color:#e6c384> =</span><span style=color:#957fb8> function</span><span style=color:#9cabca>(</span><span>event</span><span style=color:#9cabca>)</span></span>
<span class=giallo-l><span style=color:#727169>    -- NOTE: `K` por defecto utiliza el programa configurado en la opción</span></span>
<span class=giallo-l><span style=color:#727169>    -- 'keywordprg' y aquí lo forzamos a usar el cliente LSP</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>    -- Muestra información sobre símbolo debajo del cursor</span></span>
<span class=giallo-l><span>    vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'K'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.hover()&lt;cr>'</span><span>, {buffer</span><span style=color:#e6c384> =</span><span> event.buf})</span></span>
<span class=giallo-l><span style=color:#957fb8>  end</span><span>,</span></span>
<span class=giallo-l><span>})</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Esta función utiliza el módulo lspconfig en versiones anteriores de Neovim.</span></span>
<span class=giallo-l><span style=color:#727169>-- vim.lsp.enable() sólo está disponible en Neovim v0.11</span></span>
<span class=giallo-l><span>local</span><span style=color:#957fb8> function</span><span style=color:#7e9cd8> lsp_setup</span><span style=color:#9cabca>(</span><span>server</span><span style=color:#9cabca>,</span><span> opts</span><span style=color:#9cabca>)</span></span>
<span class=giallo-l><span style=color:#957fb8>  if</span><span> vim.fn.</span><span style=color:#7e9cd8>has</span><span>(</span><span style=color:#98bb6c>'nvim-0.11'</span><span>) </span><span style=color:#e6c384>==</span><span style=color:#d27e99> 0</span><span style=color:#957fb8> then</span></span>
<span class=giallo-l><span style=color:#7e9cd8>    require</span><span>(</span><span style=color:#98bb6c>'lspconfig'</span><span>)[server].</span><span style=color:#7e9cd8>setup</span><span>(opts)</span></span>
<span class=giallo-l><span style=color:#957fb8>    return</span></span>
<span class=giallo-l><span style=color:#957fb8>  end</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#957fb8>  if</span><span style=color:#e6c384> not</span><span> vim.</span><span style=color:#7e9cd8>tbl_isempty</span><span>(opts) </span><span style=color:#957fb8>then</span></span>
<span class=giallo-l><span>    vim.lsp.</span><span style=color:#7e9cd8>config</span><span>(server, opts)</span></span>
<span class=giallo-l><span style=color:#957fb8>  end</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>  vim.lsp.</span><span style=color:#7e9cd8>enable</span><span>(server)</span></span>
<span class=giallo-l><span style=color:#957fb8>end</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Lista de servidores LSP:</span></span>
<span class=giallo-l><span style=color:#727169>-- https://github.com/neovim/nvim-lspconfig/blob/master/doc/configs.md</span></span>
<span class=giallo-l><span style=color:#7e9cd8>lsp_setup</span><span>(</span><span style=color:#98bb6c>'gopls'</span><span>, {})</span></span>
<span class=giallo-l><span style=color:#7e9cd8>lsp_setup</span><span>(</span><span style=color:#98bb6c>'rust_analyzer'</span><span>, {})</span></span></code></pre><hr><p>Si tienen alguna pregunta pueden contactarme por las redes sociales:<ul><li>Twitter <a rel="noopener me" href=https://twitter.com/VonHeikemen_ target=_blank> @VonHeikemen_ </a><li>Bluesky <a rel="noopener me" href=https://bsky.app/profile/vonheikemen.bsky.social target=_blank> @vonheikemen.bsky.social </a><li>Mastodon <a rel="noopener me" href=https://hachyderm.io/@vonheikemen target=_blank> @vonheikemen@hachyderm.io </a></ul><p>Gracias por su tiempo. Si este artículo les pareció útil y quieren apoyar mis esfuerzos para crear más contenido, pueden dejar una propina en buy me a coffee ☕.</p><a href=https://ko-fi.com/vonheikemen style=justify-content:center;display:flex target=_blank> <img alt="Buy Me A Coffee" src="https://storage.ko-fi.com/cdn/kofi2.png?v=3" style=width:217px!important;height:60px!important> </a></div></div>