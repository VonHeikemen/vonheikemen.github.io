<!doctype html><html lang=es><head><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="text/html; charset=utf-8" http-equiv=content-type><meta content="width=device-width,initial-scale=1.0,maximum-scale=1,viewport-fit=cover" name=viewport><meta content="interest-cohort=()" http-equiv=Permissions-Policy><title>
  Una configuración simple para Neovim | Devlog
</title><link href=https://vonheikemen.github.io/devlog/print.css media=print rel=stylesheet><link href=https://vonheikemen.github.io/devlog/styles.css rel=stylesheet><link href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface" rel=stylesheet><link href=https://hachyderm.io/@vonheikemen rel=me><link href=https://twitter.com/VonHeikemen_ rel=me><meta content="vim, neovim, shell, software, coding, development" name=keywords><meta content="Aprende lo básico para configurar Neovim usando lua" name=description><body class=theme-base-custom><div class=sidebar><div class="container sidebar-sticky"><div class=sidebar-about><a href=https://vonheikemen.github.io/devlog/es/><h1>Devlog</h1></a></div><ul class=sidebar-nav><li class=sidebar-nav-item><a href=/>whoami</a><li class=sidebar-nav-item><a href=https://vonheikemen.github.io/devlog/es/tags/>Explorar tags</a><li class=sidebar-nav-item><a href=https://vonheikemen.github.io/devlog/>Devlog in english</a><li class=sidebar-nav-item><a href=https://vonheikemen.github.io/devlog/atom.xml>RSS</a></ul> © 2020-2025 Heiker Curiel</div></div><div class="content container"><div class=post><h1 class=post-title>Una configuración simple para Neovim</h1><span class=post-date>2024-11-23 | 14 minutos | <a href=https://vonheikemen.github.io/devlog/tools/simple-neovim-config/> Read in english </a> </span><blockquote>Última actualización: 2025-03-07</blockquote><p>40 líneas de código es suficiente para tener una buena configuración en Neovim. Y puede que no me crean esto pero sólo necesitamos <strong>1 plugin</strong> para tener acceso a ciertas funcionalidades que generalmente encuentran en un IDE.<p>Pueden usar <a href=https://vonheikemen.github.io/devlog/es/tools/simple-neovim-config/#init-lua>esta configuración</a> como un punto de partida y luego van agregando cosas nuevas cuando encuentren algún problema. O, simplemente veanlo como una oportunidad para aprender los conceptos básicos de la configuración de Neovim.<h2 id=instalando-neovim>Instalando Neovim</h2><p>Para la configuración que les voy a mostrar necesitamos Neovim en su versión v0.9 o mayor. Pero deben tener en cuenta que muchos plugins escritos en lua sólo garantizan soporte para la versión estable actual. En este momento sería v0.10, que fue publicada el <code>16 de mayo del 2024</code>.<p>Si su sistema operativo está basado en linux deben prestar atención a la versión de Neovim que está disponible en su manejador de paquetes.<p>Si saben cómo instalar ejecutables pre-compilados pueden ir a la sección <a href=https://github.com/neovim/neovim/releases rel=noopener target=_blank>releases</a> del repositorio de Neovim y descargan la versión estable actual.<p>Otra alternativa sería usar el manejador de versiones llamado <code>bob</code>. Pueden encontrarlo aquí: <a href=https://github.com/MordechaiHadad/bob rel=noopener target=_blank>MordechaiHadad/bob</a>.<h2 id=el-punto-de-entrada>El punto de entrada</h2><p>Ahora vamos a crear el archivo de configuración <code>init.lua</code>. La ubicación de este archivo depende del sistema operativo que estamos usando. Entonces, para ahorranos problemas vamos a crearlo usando Neovim en modo "headless" desde la terminal.<p>Ejecuten este comando en su terminal.<pre class=language-sh data-lang=sh style=color:#cccece;background-color:#2b2c2f><code class=language-sh data-lang=sh><span style=color:#69c>nvim</span><span style=color:#5fb3b3> --</span><span style=color:#f99157>headless</span><span style=color:#5fb3b3> -</span><span style=color:#f99157>c </span><span style=color:#5fb3b3>'</span><span style=color:#99c794>exe "write ++p" stdpath("config") . "/init.lua"</span><span style=color:#5fb3b3>' -</span><span style=color:#f99157>c </span><span style=color:#5fb3b3>'</span><span style=color:#99c794>quit</span><span style=color:#5fb3b3>'
</span></code></pre><p>Después de crear el archivo podemos revisar su ubicación usando este comando.<pre class=language-sh data-lang=sh style=color:#cccece;background-color:#2b2c2f><code class=language-sh data-lang=sh><span style=color:#69c>nvim</span><span style=color:#5fb3b3> --</span><span style=color:#f99157>headless</span><span style=color:#5fb3b3> -</span><span style=color:#f99157>c </span><span style=color:#5fb3b3>'</span><span style=color:#99c794>echo $MYVIMRC</span><span style=color:#5fb3b3>' -</span><span style=color:#f99157>c </span><span style=color:#5fb3b3>'</span><span style=color:#99c794>quit</span><span style=color:#5fb3b3>'
</span></code></pre><p>Ya podemos empezar a escribir algo de código. Pero primero, les recomiendo que dediquen un poco de tiempo a aprender <code>lua</code>. Como mínimo tengan a la mano una referencia de la sintaxis. Aquí les dejo unos recursos (en inglés):<ul><li><a href="https://www.youtube.com/watch?v=NneB6GX1Els" rel=noopener target=_blank>Lua crash course (video 12 min)</a><li><a href=https://learnxinyminutes.com/docs/lua/ rel=noopener target=_blank>Learn X in Y minutes: Where X = lua</a></ul><h2 id=opciones-del-editor>Opciones del editor</h2><p>Para modificar la configuración básica del editor en lua <a href=https://github.com/neovim/neovim/issues/30383#issuecomment-2351519326 rel=noopener target=_blank>se recomienda</a> usar <a href=https://neovim.io/doc/user/lua-guide.html#_vim.o rel=noopener target=_blank>vim.o</a>. Esta es la sintaxis que debemos seguir.<pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span>vim</span><span style=color:#5fb3b3>.</span><span>o</span><span style=color:#5fb3b3>.</span><span>nombre_opcion </span><span style=color:#5fb3b3>= </span><span>valor
</span></code></pre><p>Donde <code>nombre_opcion</code> debe ser una opción válida de Neovim. Y <code>valor</code> debe ser lo que esa opción espera. Pueden encontrar la lista de opciones en la documentación de Neovim: <a href=https://neovim.io/doc/user/quickref.html#option-list rel=noopener target=_blank>Quickref - option list</a>.<p>Estas son algunas opciones que pueden interesarles:<ul><li>Habilitar números de líneas.</ul><pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span>vim</span><span style=color:#5fb3b3>.</span><span>o</span><span style=color:#5fb3b3>.</span><span>number </span><span style=color:#5fb3b3>= </span><span style=color:#f99157>true
</span></code></pre><ul><li>Habilita el scroll horizontal.</ul><pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span>vim</span><span style=color:#5fb3b3>.</span><span>o</span><span style=color:#5fb3b3>.</span><span>wrap </span><span style=color:#5fb3b3>= </span><span style=color:#f99157>false
</span></code></pre><ul><li>Ajustar el ancho del caracter <code>Tab</code>.</ul><pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span>vim</span><span style=color:#5fb3b3>.</span><span>o</span><span style=color:#5fb3b3>.</span><span>tabstop </span><span style=color:#5fb3b3>= </span><span style=color:#f99157>2
</span><span>vim</span><span style=color:#5fb3b3>.</span><span>o</span><span style=color:#5fb3b3>.</span><span>shiftwidth </span><span style=color:#5fb3b3>= </span><span style=color:#f99157>2
</span></code></pre><ul><li>Ignorar mayúsculas y minúsculas cuando el patrón de búsqueda esté todo en minúsculas.</ul><pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span>vim</span><span style=color:#5fb3b3>.</span><span>o</span><span style=color:#5fb3b3>.</span><span>smartcase </span><span style=color:#5fb3b3>= </span><span style=color:#f99157>true
</span><span>vim</span><span style=color:#5fb3b3>.</span><span>o</span><span style=color:#5fb3b3>.</span><span>ignorecase </span><span style=color:#5fb3b3>= </span><span style=color:#f99157>true
</span></code></pre><ul><li>Deshacer el resaltado de una búsqueda luego de terminar el proceso.</ul><pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span>vim</span><span style=color:#5fb3b3>.</span><span>o</span><span style=color:#5fb3b3>.</span><span>hlsearch </span><span style=color:#5fb3b3>= </span><span style=color:#f99157>false
</span></code></pre><h2 id=tema-del-editor>Tema del editor</h2><p>Para cambiar el tema del editor debemos usar el comando <code>colorscheme</code>. Y para invocar un comando en lua usamos <a href=https://neovim.io/doc/user/lua-guide.html#_vim-commands rel=noopener target=_blank>vim.cmd</a>. Entonces en nuestra configuración podemos hacer esto:<pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span>vim</span><span style=color:#5fb3b3>.</span><span>cmd</span><span style=color:#5fb3b3>.</span><span style=color:#69c>colorscheme</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>habamax</span><span style=color:#5fb3b3>')
</span></code></pre><h2 id=portapapeles>Portapapeles</h2><p>Cuando copiamos un pedazo de texto usando el atajo <code>y</code> Neovim lo guarda en un registro interno. Para pegar usamos el atajo <code>p</code>, este utiliza el mismo registro que <code>y</code>. En otras palabras, Neovim por defecto ignora el portapapeles del sistema. Podemos usar el portapapeles pero debemos hacerlo de manera explícita.<p>Lo que hago en mi configuración personal es crear atajos específicos para interactuar con el portapapeles usando la función <a href=https://neovim.io/doc/user/lua-guide.html#_mappings rel=noopener target=_blank>vim.keymap.set()</a>.<pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span>vim</span><span style=color:#5fb3b3>.</span><span>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>({'</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>x</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>o</span><span style=color:#5fb3b3>'}, '</span><span style=color:#99c794>gy</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>"+y</span><span style=color:#5fb3b3>', {</span><span style=color:#99c794>desc </span><span style=color:#5fb3b3>= '</span><span style=color:#99c794>Copiar al portapapel</span><span style=color:#5fb3b3>'})
</span><span>vim</span><span style=color:#5fb3b3>.</span><span>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>({'</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>x</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>o</span><span style=color:#5fb3b3>'}, '</span><span style=color:#99c794>gp</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>"+p</span><span style=color:#5fb3b3>', {</span><span style=color:#99c794>desc </span><span style=color:#5fb3b3>= '</span><span style=color:#99c794>Pegar del portapapel</span><span style=color:#5fb3b3>'})
</span></code></pre><p>Con esto el atajo <code>gy</code> copia texto de Neovim al portapapeles del sistema, y <code>gp</code> pega texto del portapapel a Neovim.<p>Nota: <code>{'n', 'x', 'o'}</code> es la lista de modos de Neovim donde podemos ejecutar el atajo. <code>n</code> es modo normal, <code>x</code> es modo visual y <code>o</code> es el modo operador pendiente.<h2 id=tecla-lider>Tecla líder</h2><p>Por lo general no se recomienda crear atajos que modifiquen el comportamiento que tiene Neovim por defecto, como lo hicimos en sección anterior. La mayor parte del tiempo colocamos el prefijo <code>&LTleader></code> para nuestros atajos personales. De esta forma evitamos cualquier tipo de conflicto con las funcionalidades de Neovim.<p>¿Pero qué significa <code>&LTleader></code>?<p>Es una especie de variable. Por defecto es la tecla <code>\</code>. Por ejemplo:<pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span>vim</span><span style=color:#5fb3b3>.</span><span>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTleader>h</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>echo "hola"&LTcr></span><span style=color:#5fb3b3>')
</span></code></pre><p>Este código crea el atajo <code>\ + h</code>, y este a su vez muestra el mensaje <code>hola</code>.<p>Para cambiar el valor de <code>&LTleader></code> usamos la <strong>variable global</strong> <code>mapleader</code>.<pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span>vim</span><span style=color:#5fb3b3>.</span><span>g</span><span style=color:#5fb3b3>.</span><span>mapleader </span><span style=color:#5fb3b3>= '</span><span style=color:#99c794>,</span><span style=color:#5fb3b3>'
</span></code></pre><p>Con esto cambiamos la tecla líder de <code>\</code> a <code>,</code>. Pero en caso de querer usar una secuencia especial como <code>control + k</code> debemos utilizar el "keycode" de esa secuencia. Por ejemplo.<pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span>vim</span><span style=color:#5fb3b3>.</span><span>g</span><span style=color:#5fb3b3>.</span><span>mapleader </span><span style=color:#5fb3b3>= </span><span>vim</span><span style=color:#5fb3b3>.</span><span style=color:#69c>keycode</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>&LTC-k></span><span style=color:#5fb3b3>')
</span></code></pre><p>La mayoría de las configuraciones que he visto usan la tecla <code>Espacio</code> como líder. Hacen algo como esto.<pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span>vim</span><span style=color:#5fb3b3>.</span><span>g</span><span style=color:#5fb3b3>.</span><span>mapleader </span><span style=color:#5fb3b3>= ' '
</span></code></pre><p>Sí, colocan un espacio en blanco. Esto es lo que la gente hacía antes de que Neovim agregara la función <code>vim.keycode</code>. Pero si tienen Neovim v0.10 pueden hacer esto:<pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span>vim</span><span style=color:#5fb3b3>.</span><span>g</span><span style=color:#5fb3b3>.</span><span>mapleader </span><span style=color:#5fb3b3>= </span><span>vim</span><span style=color:#5fb3b3>.</span><span style=color:#69c>keycode</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>&LTSpace></span><span style=color:#5fb3b3>')
</span></code></pre><p>Ahora bien, para que la variable <code>mapleader</code> tenga efecto en nuestros atajos deben definirla <strong>antes</strong> de crear sus atajos personales.<h2 id=ejecutando-comandos>Ejecutando comandos</h2><p>Ya estamos listos para crear atajos que ejecuten comandos de vim, lo que se conoce como <a href=https://neovim.io/doc/user/vimindex.html#_6.-ex-commands rel=noopener target=_blank>Ex-commands</a>.<p>Podemos hacer esto de varias maneras pero esta es mi favorita:<pre style=color:#cccece;background-color:#2b2c2f><code><span>&LTcmd>...&LTcr>
</span></code></pre><p><code>&LTcmd></code> es una secuencia especial que le indica a Neovim que queremos ejecutar una expresión. Y <code>&LTcr></code> representa la tecla <code>Enter</code>, lo que marca el fin de la expresión que queremos ejecutar.<p>Por ejemplo:<ul><li>Guardar el archivo actual.</ul><pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span>vim</span><span style=color:#5fb3b3>.</span><span>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTleader>w</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>write&LTcr></span><span style=color:#5fb3b3>', {</span><span style=color:#99c794>desc </span><span style=color:#5fb3b3>= '</span><span style=color:#99c794>Guardar</span><span style=color:#5fb3b3>'})
</span></code></pre><ul><li>Cerrar todos los archivos y salir del editor.</ul><pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span>vim</span><span style=color:#5fb3b3>.</span><span>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTleader>q</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>quitall&LTcr></span><span style=color:#5fb3b3>', {</span><span style=color:#99c794>desc </span><span style=color:#5fb3b3>= '</span><span style=color:#99c794>Salir de vim</span><span style=color:#5fb3b3>'})
</span></code></pre><h2 id=instalando-plugins>Instalando plugins</h2><p>Neovim tiene una funcionalidad llamada <a href=https://vonheikemen.github.io/devlog/es/tools/installing-neovim-plugins-without-a-plugin-manager/>vim packages</a>. Esto quiere decir que para instalar un plugin lo único que debemos hacer es descargarlo en la ubicación correcta.<p>Para no complicarnos mucho sólo vamos a descargar 2 plugins. Y ya que vamos por el camino de la simplicidad, haremos el proceso de instalación de forma manual.<p>Podemos usar el comando <code>git clone</code> para descargar plugins de Neovim que se encuentran alojados en github. Tengan en cuenta que el proceso de actualización también es manual. <strong>Ustedes</strong> serán los encargados de actualizar cada plugin. Pero en este punto yo digo que es mejor tener una configuación básica para probar cómo es editar código en Neovim. Luego si deciden que de verdad les gusta pueden eligir un plugin manager.<p>Bien. ¿Cómo se descarga un plugin?<p>Vamos a usar Neovim en modo headless otra vez. En la terminal vamos a ejecutar el comando para crear la carpeta donde debemos descargar los plugins.<pre class=language-sh data-lang=sh style=color:#cccece;background-color:#2b2c2f><code class=language-sh data-lang=sh><span style=color:#69c>nvim</span><span style=color:#5fb3b3> --</span><span style=color:#f99157>headless</span><span style=color:#5fb3b3> -</span><span style=color:#f99157>c </span><span style=color:#5fb3b3>'</span><span style=color:#99c794>call mkdir(stdpath("config") . "/pack/vendor/start/", "p")</span><span style=color:#5fb3b3>' -</span><span style=color:#f99157>c </span><span style=color:#5fb3b3>'</span><span style=color:#99c794>quit</span><span style=color:#5fb3b3>'
</span></code></pre><p>Para revisar la ubicación de la carpeta que acaban de crear pueden usar este comando.<pre class=language-sh data-lang=sh style=color:#cccece;background-color:#2b2c2f><code class=language-sh data-lang=sh><span style=color:#69c>nvim</span><span style=color:#5fb3b3> --</span><span style=color:#f99157>headless</span><span style=color:#5fb3b3> -</span><span style=color:#f99157>c </span><span style=color:#5fb3b3>'</span><span style=color:#99c794>echo stdpath("config") . "/pack/vendor/start/"</span><span style=color:#5fb3b3>' -</span><span style=color:#f99157>c </span><span style=color:#5fb3b3>'</span><span style=color:#99c794>quit</span><span style=color:#5fb3b3>'
</span></code></pre><p>Ahora deben navegar a esa carpeta, ahí es donde debemos ejecutar el comando <code>git clone</code>.<ul><li>Instalar <a href=https://github.com/neovim/nvim-lspconfig rel=noopener target=_blank>nvim-lspconfig</a></ul><p>Este es el plugin que nos ayudará a tener esas funcionalidades como las de un IDE.<pre style=color:#cccece;background-color:#2b2c2f><code><span>git clone https://github.com/neovim/nvim-lspconfig
</span></code></pre><ul><li>Instalar <a href=https://github.com/echasnovski/mini.nvim rel=noopener target=_blank>mini.nvim</a></ul><p><code>mini.nvim</code> es una colección de módulos de lua. Cada módulo es independiente y funciona como un plugin. La idea de esto es resolver problemas comunes y mejorar donde sea posible las capacidades nativas de Neovim.<pre style=color:#cccece;background-color:#2b2c2f><code><span>git clone --filter=blob:none https://github.com/echasnovski/mini.nvim
</span></code></pre><p>Luego de instalar los plugins debemos generar los tags para la documentación.<pre class=language-sh data-lang=sh style=color:#cccece;background-color:#2b2c2f><code class=language-sh data-lang=sh><span style=color:#69c>nvim</span><span style=color:#5fb3b3> --</span><span style=color:#f99157>headless</span><span style=color:#5fb3b3> -</span><span style=color:#f99157>c </span><span style=color:#5fb3b3>'</span><span style=color:#99c794>helptags ALL</span><span style=color:#5fb3b3>' -</span><span style=color:#f99157>c </span><span style=color:#5fb3b3>'</span><span style=color:#99c794>quit</span><span style=color:#5fb3b3>'
</span></code></pre><p>Después de ejecutar todos esos comandos la carpeta de configuración de Neovim debe tener esta estructura.<pre style=color:#cccece;background-color:#2b2c2f><code><span>nvim
</span><span>├── init.lua
</span><span>└── pack
</span><span>    └── vendor
</span><span>        └── start
</span><span>            ├── mini.nvim
</span><span>            └── nvim-lspconfig
</span></code></pre><h2 id=explorador-de-archivos>Explorador de archivos</h2><p>Neovim ya tiene un explorador archivos, se <a href=https://vonheikemen.github.io/devlog/es/tools/using-netrw-vim-builtin-file-explorer/>llama netrw</a>. Yo no lo uso porque tiene algunas peculiaridades que no me agradan. Aquí voy a recomendarles <a href=https://github.com/echasnovski/mini.nvim/blob/main/readmes/mini-files.md rel=noopener target=_blank>mini.files</a>, el explorador de archivos de <code>mini.nvim</code>.<p>Para usar <code>mini.files</code> debemos invocar la función <code>setup()</code> del módulo correspondiente.<pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span style=color:#69c>require</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>mini.files</span><span style=color:#5fb3b3>').</span><span style=color:#69c>setup</span><span style=color:#5fb3b3>({})
</span></code></pre><p>Esta es una convención que muchos plugins creados con lua siguen. Algunas veces <strong>deben</strong> invocar la función <code>.setup()</code> para habilitar el plugin. Debo enfatizar que es una convención, no es una regla. Hay algunos plugins que activan sus funcionalidades automáticamente.<p>Ahora bien ¿Cómo se usa <code>mini.files</code>?<p>Debemos crear un atajo de teclado para abrir el explorador.<pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span>vim</span><span style=color:#5fb3b3>.</span><span>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTleader>e</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>lua MiniFiles.open()&LTcr></span><span style=color:#5fb3b3>', {</span><span style=color:#99c794>desc </span><span style=color:#5fb3b3>= '</span><span style=color:#99c794>Explorador de archivos</span><span style=color:#5fb3b3>'})
</span></code></pre><p>Luego de abrir el explorador pueden usar el atajo <code>g?</code>, este abre una ventana de ayuda que les mostrará todos los atajos disponibles dentro del explorador.<p>¿Y cómo se configura <code>mini.files</code>?<p>Tienen que agregar su configuración dentro de las llaves <code>{}</code>. Por ejemplo.<pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span style=color:#69c>require</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>mini.files</span><span style=color:#5fb3b3>').</span><span style=color:#69c>setup</span><span style=color:#5fb3b3>({
</span><span style=color:#69c>  </span><span style=color:#99c794>mappings </span><span style=color:#5fb3b3>= {
</span><span style=color:#69c>    </span><span style=color:#99c794>show_help </span><span style=color:#5fb3b3>= '</span><span style=color:#99c794>gh</span><span style=color:#5fb3b3>',
</span><span style=color:#69c>  </span><span style=color:#5fb3b3>},
</span><span style=color:#5fb3b3>})
</span></code></pre><p>Esto cambia el atajo que muestra la ventana de ayuda. En lugar de ser <code>g?</code> ahora es <code>gh</code>.<p>La configuración como tal está dentro de una "tabla." Si hay una parte de la sintaxis de lua que deben aprender es esa. Saber cómo se crea y modifica una tabla les ahorrará muchos dolores de cabeza.<p>¿Cómo sabe uno qué opciones tiene disponible un plugin?<p>Podemos navegar a la documentación "offline" de un plugin usando el comando <code>:help</code>.<pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span style=color:#5fb3b3>:</span><span>help mini</span><span style=color:#5fb3b3>.</span><span>files
</span></code></pre><p>Ese comando los llevará a <a href=https://github.com/echasnovski/mini.nvim/blob/main/doc/mini-files.txt rel=noopener target=_blank>la página de ayuda de mini.files</a>.<p>Vale la pena mencionar que pueden usar la tecla <code>Tab</code> para autocompletar el argumento del comando <code>:help</code>. Por ejemplo, si escriben <code>:help mini</code> y luego presionan <code>Tab</code> aparecerá una lista de todos los tags que contienen la palabra <code>mini</code>.<h2 id=navegando-entre-archivos>Navegando entre archivos</h2><p>Aquí hablaremos de los métodos que podemos usar para navegar entre archivos abiertos.<p>Cuando no tengo plugins instalados uso el comando <code>:files</code> para listar los archivos abiertos. Luego uso el comando <code>:buffer</code> para ir al archivo que quiero. Y para que este proceso sea conveniente creo un atajo de teclado.<pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span>vim</span><span style=color:#5fb3b3>.</span><span>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTleader>&LTspace></span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>files&LTcr>:buffer </span><span style=color:#5fb3b3>', {</span><span style=color:#99c794>desc </span><span style=color:#5fb3b3>= '</span><span style=color:#99c794>Listar archivos</span><span style=color:#5fb3b3>'})
</span></code></pre><p>El comando <code>:buffer</code> acepta como argumento el nombre del archivo o el "id" del buffer. También pueden autocompletar el nombre usando la tecla <code>Tab</code>, así que no tienen escribir el nombre completo del archivo.<p>Pero ya que tenemos <code>mini.nvim</code> instalado podemos usar el módulo <a href=https://github.com/echasnovski/mini.nvim/blob/main/readmes/mini-pick.md rel=noopener target=_blank>mini.pick</a>, este provee una especie de buscador interactivo que hace este proceso aún más cómodo.<p>También tienen la opción de usar el módulo <a href=https://github.com/echasnovski/mini.nvim/blob/main/readmes/mini-extra.md rel=noopener target=_blank>mini.extra</a> para expandir las capacidades de <code>mini.pick</code>.<p>En fin, vamos a habilitar <code>mini.pick</code>.<pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span style=color:#69c>require</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>mini.pick</span><span style=color:#5fb3b3>').</span><span style=color:#69c>setup</span><span style=color:#5fb3b3>({})
</span></code></pre><p>Luego de esto podemos crear los atajos para navegar entre archivos.<pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span>vim</span><span style=color:#5fb3b3>.</span><span>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTleader>&LTspace></span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>Pick buffers&LTcr></span><span style=color:#5fb3b3>', {</span><span style=color:#99c794>desc </span><span style=color:#5fb3b3>= '</span><span style=color:#99c794>Listar archivos abiertos</span><span style=color:#5fb3b3>'})
</span><span>vim</span><span style=color:#5fb3b3>.</span><span>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTleader>ff</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>Pick files&LTcr></span><span style=color:#5fb3b3>', {</span><span style=color:#99c794>desc </span><span style=color:#5fb3b3>= '</span><span style=color:#99c794>Listar todos los archivos</span><span style=color:#5fb3b3>'})
</span><span>vim</span><span style=color:#5fb3b3>.</span><span>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTleader>fh</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>Pick help&LTcr></span><span style=color:#5fb3b3>', {</span><span style=color:#99c794>desc </span><span style=color:#5fb3b3>= '</span><span style=color:#99c794>Listar help tags</span><span style=color:#5fb3b3>'})
</span></code></pre><h2 id=autocompletado-de-codigo>Autocompletado de código</h2><p>Para esto podemos usar <a href=https://github.com/echasnovski/mini.nvim/blob/main/readmes/mini-completion.md rel=noopener target=_blank>mini.completion</a> y <a href=https://github.com/echasnovski/mini.nvim/blob/main/readmes/mini-snippets.md rel=noopener target=_blank>mini.snippets</a>.<pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span style=color:#69c>require</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>mini.snippets</span><span style=color:#5fb3b3>').</span><span style=color:#69c>setup</span><span style=color:#5fb3b3>({})
</span><span style=color:#69c>require</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>mini.completion</span><span style=color:#5fb3b3>').</span><span style=color:#69c>setup</span><span style=color:#5fb3b3>({})
</span></code></pre><p><code>mini.completion</code> utiliza el mecanismo nativo de Neovim y le hace algunas mejoras. Por defecto debemos presionar atajos específicos dependiendo del tipo de completado que queremos activar. <code>mini.completion</code> nos libera de esa carga, activando el completado de código mientras escribimos. En otras palabras, <code>mini.completion</code> hace posible tener autocompletado real dentro de Neovim.<p>Por defecto <code>mini.completion</code> activa las sugerencias basadas en las palabras que se encuentren en el archivo actual. Pero de ser posible utiliza el cliente LSP de Neovim para mostrar sugerencias más relevantes.<p>Para controlar el menú de sugerencias utilizamos los atajos nativos de Neovim:<ul><li><p><code>&LTDown></code>: Selecciona el siguiente item en la lista.</p><li><p><code>&LTUp></code>: Selecciona el item anterior en la lista.</p><li><p><code>&LTCtrl-n></code>: Selecciona e inserta el contenido del siguiente item en la lista.</p><li><p><code>&LTCtrl-p></code>: Selecciona e inserta el contenido del item anterior.</p><li><p><code>&LTCtrl-y></code>: Confirma el item seleccionado.</p><li><p><code>&LTCtrl-e></code>: Cancela el proceso de completado y esconde el menú.</p><li><p><code>&LTEnter></code>: Si el item fue seleccionado con <code>&LTUp></code> o <code>&LTDown></code> confirma la selección. Si no hay ningún item seleccionado, esconde el menú. Si no, inserta un salto de línea.</p></ul><p>Desafortunadamente, el menú de completado de código en Neovim no ofrece ningún suporte para "snippets" de código. Para eso tenemos <code>mini.snippets</code>. Vale la pena mencionar que las nuevas versiones de Neovim sí tienen un suporte básico para snippets... pero incluso la versión más reciente no tiene tantas funcionalidades como <code>mini.snippets</code>.<h2 id=cliente-lsp>Cliente LSP</h2><p>El cliente LSP es lo que hace posible que Neovim obtenga funcionalidades que antes sólo podías encuentrar en un IDE. Cosas como saltar a la definición de una clase, renombrar una variable, inspeccionar los argumentos de una función. Ustedes entienden. Pero este "cliente" no funciona por sí solo, necesitamos un servidor. En este caso un "servidor" debe ser un programa externo que implementa el <a href=https://microsoft.github.io/language-server-protocol/overviews/lsp/overview/ rel=noopener target=_blank>protocolo LSP</a>. Si desean conocer más del protocolo LSP y los servidores LSP pueden ver este video: <a href="https://www.youtube.com/watch?v=LaS32vctfOY" rel=noopener target=_blank>LSP explained (5 min)</a>.<p>Para usar el cliente LSP vamos a seguir estos pasos:<ul><li>Crear atajos de teclado.<li>Instalar un servidor LSP.<li>Configurar el servidor LSP.</ul><h3 id=paso-1-los-atajos>Paso 1: los atajos</h3><p>Algunos de estos atajos están basados en funcionalidades que trae Neovim por defecto, la diferencia es que estos utilizan el cliente LSP. En este caso se reemplaza el atajo original con el nuestro. El resto utilizará el prefijo <code>&LTleader>l</code>.<p>La convención que se aplica para estos atajos es crearlos si existe un servidor LSP activo en el archivo que estamos editando. Entonces lo que hacemos es crear un autocomando en el evento <code>LspAttach</code>.<pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span>vim</span><span style=color:#5fb3b3>.</span><span>api</span><span style=color:#5fb3b3>.</span><span style=color:#69c>nvim_create_autocmd</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>LspAttach</span><span style=color:#5fb3b3>', {
</span><span style=color:#69c>  callback </span><span style=color:#5fb3b3>= </span><span style=color:#c594c5>function</span><span style=color:#5fb3b3>(</span><span style=color:#f99157>event</span><span style=color:#5fb3b3>)
</span><span style=color:#69c>    </span><span style=color:#c594c5>local </span><span>opts </span><span style=color:#5fb3b3>= {</span><span style=color:#99c794>buffer </span><span style=color:#5fb3b3>= </span><span>event</span><span style=color:#5fb3b3>.</span><span style=color:#69c>buf</span><span style=color:#5fb3b3>}
</span><span style=color:#69c>
</span><span style=color:#69c>    </span><span style=color:#5f6364>-- Muestra información sobre símbolo debajo del cursor
</span><span style=color:#69c>    </span><span>vim</span><span style=color:#5fb3b3>.</span><span style=color:#69c>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>K</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>lua vim.lsp.buf.hover()&LTcr></span><span style=color:#5fb3b3>', </span><span>opts</span><span style=color:#5fb3b3>)
</span><span style=color:#69c>
</span><span style=color:#69c>    </span><span style=color:#5f6364>-- Saltar a definición
</span><span style=color:#69c>    </span><span>vim</span><span style=color:#5fb3b3>.</span><span style=color:#69c>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>gd</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>lua vim.lsp.buf.definition()&LTcr></span><span style=color:#5fb3b3>', </span><span>opts</span><span style=color:#5fb3b3>)
</span><span style=color:#69c>
</span><span style=color:#69c>    </span><span style=color:#5f6364>-- Formatear código
</span><span style=color:#69c>    </span><span>vim</span><span style=color:#5fb3b3>.</span><span style=color:#69c>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>({'</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>x</span><span style=color:#5fb3b3>'}, '</span><span style=color:#99c794>gq</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>lua vim.lsp.buf.format({async = true})&LTcr></span><span style=color:#5fb3b3>', </span><span>opts</span><span style=color:#5fb3b3>)
</span><span style=color:#69c>
</span><span style=color:#69c>    </span><span style=color:#5f6364>-- Mostrar argumentos de función
</span><span style=color:#69c>    </span><span>vim</span><span style=color:#5fb3b3>.</span><span style=color:#69c>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>i</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTC-s></span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>lua vim.lsp.buf.signature_help()&LTcr></span><span style=color:#5fb3b3>', </span><span>opts</span><span style=color:#5fb3b3>)
</span><span style=color:#69c>
</span><span style=color:#69c>    </span><span style=color:#5f6364>-- Saltar a declaración
</span><span style=color:#69c>    </span><span>vim</span><span style=color:#5fb3b3>.</span><span style=color:#69c>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTleader>ld</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>lua vim.lsp.buf.declaration()&LTcr></span><span style=color:#5fb3b3>', </span><span>opts</span><span style=color:#5fb3b3>)
</span><span style=color:#69c>
</span><span style=color:#69c>    </span><span style=color:#5f6364>-- Mostrar implementaciones
</span><span style=color:#69c>    </span><span>vim</span><span style=color:#5fb3b3>.</span><span style=color:#69c>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTleader>li</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>lua vim.lsp.buf.implementation()&LTcr></span><span style=color:#5fb3b3>', </span><span>opts</span><span style=color:#5fb3b3>)
</span><span style=color:#69c>
</span><span style=color:#69c>    </span><span style=color:#5f6364>-- Saltar a definición de tipo
</span><span style=color:#69c>    </span><span>vim</span><span style=color:#5fb3b3>.</span><span style=color:#69c>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTleader>lt</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>lua vim.lsp.buf.type_definition()&LTcr></span><span style=color:#5fb3b3>', </span><span>opts</span><span style=color:#5fb3b3>)
</span><span style=color:#69c>
</span><span style=color:#69c>    </span><span style=color:#5f6364>-- Listar referencias
</span><span style=color:#69c>    </span><span>vim</span><span style=color:#5fb3b3>.</span><span style=color:#69c>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTleader>lr</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>lua vim.lsp.buf.references()&LTcr></span><span style=color:#5fb3b3>', </span><span>opts</span><span style=color:#5fb3b3>)
</span><span style=color:#69c>
</span><span style=color:#69c>    </span><span style=color:#5f6364>-- Renombrar símbolo
</span><span style=color:#69c>    </span><span>vim</span><span style=color:#5fb3b3>.</span><span style=color:#69c>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTleader>ln</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>lua vim.lsp.buf.rename()&LTcr></span><span style=color:#5fb3b3>', </span><span>opts</span><span style=color:#5fb3b3>)
</span><span style=color:#69c>
</span><span style=color:#69c>    </span><span style=color:#5f6364>-- Listar "code actions" disponibles en la posición del cursor
</span><span style=color:#69c>    </span><span>vim</span><span style=color:#5fb3b3>.</span><span style=color:#69c>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTleader>la</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>lua vim.lsp.buf.code_action()&LTcr></span><span style=color:#5fb3b3>', </span><span>opts</span><span style=color:#5fb3b3>)
</span><span style=color:#69c>  </span><span style=color:#c594c5>end</span><span style=color:#5fb3b3>,
</span><span style=color:#5fb3b3>})
</span></code></pre><h3 id=paso-2-instalar-un-servidor-lsp>Paso 2: Instalar un servidor LSP</h3><p>La comunidad de Neovim ha creado un recurso donde podemos encontrar una lista de servidores LSP. Esta se encuentra en la documentación del plugin <code>nvim-lspconfig</code>, en el archivo <a href=https://github.com/neovim/nvim-lspconfig/blob/master/doc/configs.md rel=noopener target=_blank>doc/configs.md</a>.<p>Me gusta proveer ejemplos prácticos que ustedes pueden probar, así que voy a mostrarles los comandos para instalar el servidor LSP de los lenguajes <code>go</code> y <code>rust</code>.<p>Si ya tienen en su sistema la <a href=https://go.dev/doc/install rel=noopener target=_blank>herramienta para go</a>, pueden instalar el servidor LSP ejecutando este comando en su terminal.<pre style=color:#cccece;background-color:#2b2c2f><code><span>go install golang.org/x/tools/gopls@latest
</span></code></pre><p>Para <code>rust</code>, si ya tienen <a href=https://rust-lang.github.io/rustup/ rel=noopener target=_blank>rustup</a> pueden instalar el servidor LSP <code>rust_analyzer</code>.<pre style=color:#cccece;background-color:#2b2c2f><code><span>rustup component add rust-analyzer
</span></code></pre><h3 id=paso-3-configurar-un-servidor-lsp>Paso 3: Configurar un servidor LSP</h3><p>Por cada servidor LSP que tienen instalado en su sistema deben incluir la función <code>.setup()</code> correspondiente. Deben utilizar esta sintaxis.<pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span style=color:#69c>require</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>lspconfig</span><span style=color:#5fb3b3>').</span><span>example_server</span><span style=color:#5fb3b3>.</span><span style=color:#69c>setup</span><span style=color:#5fb3b3>({})
</span></code></pre><p>Donde <code>example_server</code> debe ser el nombre del servidor.<p>Para utilizar los servidores LSP de <code>go</code> y <code>rust</code> deben incluir estas funciones.<pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span style=color:#69c>require</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>lspconfig</span><span style=color:#5fb3b3>').</span><span>gopls</span><span style=color:#5fb3b3>.</span><span style=color:#69c>setup</span><span style=color:#5fb3b3>({})
</span><span style=color:#69c>require</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>lspconfig</span><span style=color:#5fb3b3>').</span><span>rust_analyzer</span><span style=color:#5fb3b3>.</span><span style=color:#69c>setup</span><span style=color:#5fb3b3>({})
</span></code></pre><p>Les aconsejo que lean la documentación de cada servidor LSP que instalen. Por lo general ahí pueden encontrar instrucciones de uso, pasos de instalación y métodos de configuración.<h3 id=deben-tener-en-cuenta>Deben tener en cuenta...</h3><p>Cada servidor LSP es parte de un proyecto independiente. Es decir, un servidor LSP tiene su propio equipo de desarrollo que no está relacionado con Neovim. Tienen sus propios defectos (bugs), limitaciones y en ocasiones tienen sus propios archivos de configuración.<p>Algunos servidores LSP fueron creados exclusivamente para VS Code. El hecho de que Neovim (u otros editores) puedan usarlos es mera coincidencia. Tengo entendido que los servidores LSP para <code>html</code> y <code>css</code> entran en esta categoría. Estos pueden tener funcionalidades que sólo VS Code puede usar, o que tienen mejor desempeño en VS Code.<h2 id=mencion-honorifica>Mención honorífica</h2><p><a href=https://github.com/nvim-treesitter/nvim-treesitter rel=noopener target=_blank>nvim-treesitter</a> es un plugin que fue creado en 2020. Mucha gente en la comunidad de Neovim dirá que es indispensable, y yo concuerdo hasta cierto punto. Es un plugin increíble... cuando otro plugin lo utiliza como dependencia. Verán, <code>tree-sitter</code> le permite a Neovim recopilar información sobre el archivo actual, y los autores de plugins pueden hacer cosas grandiosas con esa información. Para los "usuarios casuales" como nosotros existen algunos módulos que podemos habilitar. Uno de esos módulos puede mejorar el resaltado de código de muchos lenguajes de programación. Esa es la característica principal por la que <code>nvim-treesitter</code> se volvió famoso.<p>Pero hay cosas que deben saber:<ul><li>Necesita un compilador de <code>C</code>. <ul><li>Por lo general no es problema en <code>linux</code> o <code>mac</code> pero en <code>windows</code> es un tema complicado.</ul><li>Sólo garantiza soporte para la versión estable actual de Neovim. <ul><li>Puede dejar el soporte para versiones previas en cualquier momento.</ul><li>Se considera como un plugin experimental. <ul><li>Puede introducir cambios drásticos en cualquier momento.<li>Usan <code>git tags</code> por si necesitan descargar una <a href=https://github.com/nvim-treesitter/nvim-treesitter/tags rel=noopener target=_blank>versión previa</a>.</ul></ul><p>Para conocer más detalles de <code>tree-sitter</code> pueden ver este video: <a href="https://www.youtube.com/watch?v=09-9LltqWLY" rel=noopener target=_blank>tree-sitter explained (15 min)</a>.<p>Si quieren probar nvim-treesitter, este es el código para habilitar el módulo de resaltado de código.<pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span style=color:#69c>require</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>nvim-treesitter.configs</span><span style=color:#5fb3b3>').</span><span style=color:#69c>setup</span><span style=color:#5fb3b3>({
</span><span style=color:#69c>  </span><span style=color:#99c794>auto_install </span><span style=color:#5fb3b3>= </span><span style=color:#f99157>true</span><span style=color:#5fb3b3>,
</span><span style=color:#69c>  </span><span style=color:#99c794>highlight </span><span style=color:#5fb3b3>= {
</span><span style=color:#69c>    </span><span style=color:#99c794>enable </span><span style=color:#5fb3b3>= </span><span style=color:#f99157>true</span><span style=color:#5fb3b3>,
</span><span style=color:#69c>  </span><span style=color:#5fb3b3>},
</span><span style=color:#5fb3b3>})
</span></code></pre><h2 id=init-lua>init.lua</h2><pre class=language-lua data-lang=lua style=color:#cccece;background-color:#2b2c2f><code class=language-lua data-lang=lua><span style=color:#5f6364>-- Guia oficial de lua en Neovim:
</span><span style=color:#5f6364>-- https://neovim.io/doc/user/lua-guide.html
</span><span>
</span><span>vim</span><span style=color:#5fb3b3>.</span><span>o</span><span style=color:#5fb3b3>.</span><span>number </span><span style=color:#5fb3b3>= </span><span style=color:#f99157>true
</span><span>vim</span><span style=color:#5fb3b3>.</span><span>o</span><span style=color:#5fb3b3>.</span><span>tabstop </span><span style=color:#5fb3b3>= </span><span style=color:#f99157>2
</span><span>vim</span><span style=color:#5fb3b3>.</span><span>o</span><span style=color:#5fb3b3>.</span><span>shiftwidth </span><span style=color:#5fb3b3>= </span><span style=color:#f99157>2
</span><span>vim</span><span style=color:#5fb3b3>.</span><span>o</span><span style=color:#5fb3b3>.</span><span>smartcase </span><span style=color:#5fb3b3>= </span><span style=color:#f99157>true
</span><span>vim</span><span style=color:#5fb3b3>.</span><span>o</span><span style=color:#5fb3b3>.</span><span>ignorecase </span><span style=color:#5fb3b3>= </span><span style=color:#f99157>true
</span><span>vim</span><span style=color:#5fb3b3>.</span><span>o</span><span style=color:#5fb3b3>.</span><span>wrap </span><span style=color:#5fb3b3>= </span><span style=color:#f99157>false
</span><span>vim</span><span style=color:#5fb3b3>.</span><span>o</span><span style=color:#5fb3b3>.</span><span>hlsearch </span><span style=color:#5fb3b3>= </span><span style=color:#f99157>false
</span><span>vim</span><span style=color:#5fb3b3>.</span><span>o</span><span style=color:#5fb3b3>.</span><span>signcolumn </span><span style=color:#5fb3b3>= '</span><span style=color:#99c794>yes</span><span style=color:#5fb3b3>'
</span><span>
</span><span style=color:#5f6364>-- Tecla Espacio como &LTleader>
</span><span>vim</span><span style=color:#5fb3b3>.</span><span>g</span><span style=color:#5fb3b3>.</span><span>mapleader </span><span style=color:#5fb3b3>= ' '
</span><span>
</span><span style=color:#5f6364>-- Interación con el portapapeles
</span><span>vim</span><span style=color:#5fb3b3>.</span><span>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>({'</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>x</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>o</span><span style=color:#5fb3b3>'}, '</span><span style=color:#99c794>gy</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>"+y</span><span style=color:#5fb3b3>', {</span><span style=color:#99c794>desc </span><span style=color:#5fb3b3>= '</span><span style=color:#99c794>Copiar al portapapel</span><span style=color:#5fb3b3>'})
</span><span>vim</span><span style=color:#5fb3b3>.</span><span>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>({'</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>x</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>o</span><span style=color:#5fb3b3>'}, '</span><span style=color:#99c794>gp</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>"+p</span><span style=color:#5fb3b3>', {</span><span style=color:#99c794>desc </span><span style=color:#5fb3b3>= '</span><span style=color:#99c794>Pegar del portapapel</span><span style=color:#5fb3b3>'})
</span><span>
</span><span style=color:#5f6364>-- Comandos
</span><span>vim</span><span style=color:#5fb3b3>.</span><span>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTleader>w</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>write&LTcr></span><span style=color:#5fb3b3>', {</span><span style=color:#99c794>desc </span><span style=color:#5fb3b3>= '</span><span style=color:#99c794>Guardar</span><span style=color:#5fb3b3>'})
</span><span>vim</span><span style=color:#5fb3b3>.</span><span>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTleader>q</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>quitall&LTcr></span><span style=color:#5fb3b3>', {</span><span style=color:#99c794>desc </span><span style=color:#5fb3b3>= '</span><span style=color:#99c794>Salir de vim</span><span style=color:#5fb3b3>'})
</span><span>
</span><span style=color:#5f6364>-- Tema del editor
</span><span>vim</span><span style=color:#5fb3b3>.</span><span>cmd</span><span style=color:#5fb3b3>.</span><span style=color:#69c>colorscheme</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>habamax</span><span style=color:#5fb3b3>')
</span><span>
</span><span style=color:#69c>require</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>mini.snippets</span><span style=color:#5fb3b3>').</span><span style=color:#69c>setup</span><span style=color:#5fb3b3>({})
</span><span style=color:#69c>require</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>mini.completion</span><span style=color:#5fb3b3>').</span><span style=color:#69c>setup</span><span style=color:#5fb3b3>({})
</span><span>
</span><span style=color:#69c>require</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>mini.files</span><span style=color:#5fb3b3>').</span><span style=color:#69c>setup</span><span style=color:#5fb3b3>({})
</span><span>vim</span><span style=color:#5fb3b3>.</span><span>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTleader>e</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>lua MiniFiles.open()&LTcr></span><span style=color:#5fb3b3>', {</span><span style=color:#99c794>desc </span><span style=color:#5fb3b3>= '</span><span style=color:#99c794>Explorador de archivos</span><span style=color:#5fb3b3>'})
</span><span>
</span><span style=color:#69c>require</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>mini.pick</span><span style=color:#5fb3b3>').</span><span style=color:#69c>setup</span><span style=color:#5fb3b3>({})
</span><span>vim</span><span style=color:#5fb3b3>.</span><span>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTleader>&LTspace></span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>Pick buffers&LTcr></span><span style=color:#5fb3b3>', {</span><span style=color:#99c794>desc </span><span style=color:#5fb3b3>= '</span><span style=color:#99c794>Listar archivos abiertos</span><span style=color:#5fb3b3>'})
</span><span>vim</span><span style=color:#5fb3b3>.</span><span>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTleader>ff</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>Pick files&LTcr></span><span style=color:#5fb3b3>', {</span><span style=color:#99c794>desc </span><span style=color:#5fb3b3>= '</span><span style=color:#99c794>Listar todos los archivos</span><span style=color:#5fb3b3>'})
</span><span>vim</span><span style=color:#5fb3b3>.</span><span>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTleader>fh</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>Pick help&LTcr></span><span style=color:#5fb3b3>', {</span><span style=color:#99c794>desc </span><span style=color:#5fb3b3>= '</span><span style=color:#99c794>Listar help tags</span><span style=color:#5fb3b3>'})
</span><span>
</span><span style=color:#5f6364>-- Lista de servidores LSP:
</span><span style=color:#5f6364>-- https://github.com/neovim/nvim-lspconfig/blob/master/doc/configs.md
</span><span style=color:#69c>require</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>lspconfig</span><span style=color:#5fb3b3>').</span><span>gopls</span><span style=color:#5fb3b3>.</span><span style=color:#69c>setup</span><span style=color:#5fb3b3>({})
</span><span style=color:#69c>require</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>lspconfig</span><span style=color:#5fb3b3>').</span><span>rust_analyzer</span><span style=color:#5fb3b3>.</span><span style=color:#69c>setup</span><span style=color:#5fb3b3>({})
</span><span>
</span><span>vim</span><span style=color:#5fb3b3>.</span><span>api</span><span style=color:#5fb3b3>.</span><span style=color:#69c>nvim_create_autocmd</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>LspAttach</span><span style=color:#5fb3b3>', {
</span><span style=color:#69c>  callback </span><span style=color:#5fb3b3>= </span><span style=color:#c594c5>function</span><span style=color:#5fb3b3>(</span><span style=color:#f99157>event</span><span style=color:#5fb3b3>)
</span><span style=color:#69c>    </span><span style=color:#c594c5>local </span><span>opts </span><span style=color:#5fb3b3>= {</span><span style=color:#99c794>buffer </span><span style=color:#5fb3b3>= </span><span>event</span><span style=color:#5fb3b3>.</span><span style=color:#69c>buf</span><span style=color:#5fb3b3>}
</span><span style=color:#69c>
</span><span style=color:#69c>    </span><span style=color:#5f6364>-- Muestra información sobre símbolo debajo del cursor
</span><span style=color:#69c>    </span><span>vim</span><span style=color:#5fb3b3>.</span><span style=color:#69c>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>K</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>lua vim.lsp.buf.hover()&LTcr></span><span style=color:#5fb3b3>', </span><span>opts</span><span style=color:#5fb3b3>)
</span><span style=color:#69c>
</span><span style=color:#69c>    </span><span style=color:#5f6364>-- Saltar a definición
</span><span style=color:#69c>    </span><span>vim</span><span style=color:#5fb3b3>.</span><span style=color:#69c>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>gd</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>lua vim.lsp.buf.definition()&LTcr></span><span style=color:#5fb3b3>', </span><span>opts</span><span style=color:#5fb3b3>)
</span><span style=color:#69c>
</span><span style=color:#69c>    </span><span style=color:#5f6364>-- Formatear código
</span><span style=color:#69c>    </span><span>vim</span><span style=color:#5fb3b3>.</span><span style=color:#69c>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>({'</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>x</span><span style=color:#5fb3b3>'}, '</span><span style=color:#99c794>gq</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>lua vim.lsp.buf.format({async = true})&LTcr></span><span style=color:#5fb3b3>', </span><span>opts</span><span style=color:#5fb3b3>)
</span><span style=color:#69c>
</span><span style=color:#69c>    </span><span style=color:#5f6364>-- Mostrar argumentos de función
</span><span style=color:#69c>    </span><span>vim</span><span style=color:#5fb3b3>.</span><span style=color:#69c>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>i</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTC-s></span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>lua vim.lsp.buf.signature_help()&LTcr></span><span style=color:#5fb3b3>', </span><span>opts</span><span style=color:#5fb3b3>)
</span><span style=color:#69c>
</span><span style=color:#69c>    </span><span style=color:#5f6364>-- Saltar a declaración
</span><span style=color:#69c>    </span><span>vim</span><span style=color:#5fb3b3>.</span><span style=color:#69c>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTleader>ld</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>lua vim.lsp.buf.declaration()&LTcr></span><span style=color:#5fb3b3>', </span><span>opts</span><span style=color:#5fb3b3>)
</span><span style=color:#69c>
</span><span style=color:#69c>    </span><span style=color:#5f6364>-- Mostrar implementaciones
</span><span style=color:#69c>    </span><span>vim</span><span style=color:#5fb3b3>.</span><span style=color:#69c>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTleader>li</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>lua vim.lsp.buf.implementation()&LTcr></span><span style=color:#5fb3b3>', </span><span>opts</span><span style=color:#5fb3b3>)
</span><span style=color:#69c>
</span><span style=color:#69c>    </span><span style=color:#5f6364>-- Saltar a definición de tipo
</span><span style=color:#69c>    </span><span>vim</span><span style=color:#5fb3b3>.</span><span style=color:#69c>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTleader>lt</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>lua vim.lsp.buf.type_definition()&LTcr></span><span style=color:#5fb3b3>', </span><span>opts</span><span style=color:#5fb3b3>)
</span><span style=color:#69c>
</span><span style=color:#69c>    </span><span style=color:#5f6364>-- Listar referencias
</span><span style=color:#69c>    </span><span>vim</span><span style=color:#5fb3b3>.</span><span style=color:#69c>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTleader>lr</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>lua vim.lsp.buf.references()&LTcr></span><span style=color:#5fb3b3>', </span><span>opts</span><span style=color:#5fb3b3>)
</span><span style=color:#69c>
</span><span style=color:#69c>    </span><span style=color:#5f6364>-- Renombrar símbolo
</span><span style=color:#69c>    </span><span>vim</span><span style=color:#5fb3b3>.</span><span style=color:#69c>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTleader>ln</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>lua vim.lsp.buf.rename()&LTcr></span><span style=color:#5fb3b3>', </span><span>opts</span><span style=color:#5fb3b3>)
</span><span style=color:#69c>
</span><span style=color:#69c>    </span><span style=color:#5f6364>-- Listar "code actions" disponibles en la posición del cursor
</span><span style=color:#69c>    </span><span>vim</span><span style=color:#5fb3b3>.</span><span style=color:#69c>keymap</span><span style=color:#5fb3b3>.</span><span style=color:#69c>set</span><span style=color:#5fb3b3>('</span><span style=color:#99c794>n</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTleader>la</span><span style=color:#5fb3b3>', '</span><span style=color:#99c794>&LTcmd>lua vim.lsp.buf.code_action()&LTcr></span><span style=color:#5fb3b3>', </span><span>opts</span><span style=color:#5fb3b3>)
</span><span style=color:#69c>  </span><span style=color:#c594c5>end</span><span style=color:#5fb3b3>,
</span><span style=color:#5fb3b3>})
</span></code></pre><hr><p>Si tienen alguna pregunta pueden contactarme por las redes sociales:<ul><li>Twitter <a rel="noopener me" href=https://twitter.com/VonHeikemen_ target=_blank> @VonHeikemen_ </a><li>Bluesky <a rel="noopener me" href=https://bsky.app/profile/vonheikemen.bsky.social target=_blank> @vonheikemen.bsky.social </a><li>Mastodon <a rel="noopener me" href=https://hachyderm.io/@vonheikemen target=_blank> @vonheikemen@hachyderm.io </a></ul><p>Gracias por su tiempo. Si este artículo les pareció útil y quieren apoyar mis esfuerzos para crear más contenido, pueden dejar una propina en buy me a coffee ☕.</p><a href=https://ko-fi.com/vonheikemen style=justify-content:center;display:flex target=_blank> <img alt="Buy Me A Coffee" src="https://storage.ko-fi.com/cdn/kofi2.png?v=3" style=width:217px!important;height:60px!important> </a></div></div>