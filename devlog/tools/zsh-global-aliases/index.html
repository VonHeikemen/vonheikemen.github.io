<!doctype html><html lang=en><meta http-equiv=x-ua-compatible content="IE=edge"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,viewport-fit=cover"><meta http-equiv=permissions-policy content="interest-cohort=()"><title>ZSH global aliases | Devlog</title><link rel=stylesheet href=https://vonheikemen.github.io/devlog/print.css media=print><link rel=stylesheet href=https://vonheikemen.github.io/devlog/styles.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface"><link rel=me href=https://hachyderm.io/@vonheikemen><link rel=me href=https://twitter.com/VonHeikemen_><meta name=keywords content="zsh,shell,todayilearned,software,coding,development"><meta name=monetization content="$ilp.uphold.com/dFQbFZ49nJdQ"><meta name=description content="What are they and how can we use them"><body class=theme-base-custom><div class=sidebar><div class="container sidebar-sticky"><div class=sidebar-about><a href=https://vonheikemen.github.io/devlog/><h1>Devlog</h1></a></div><ul class=sidebar-nav><li class=sidebar-nav-item><a href=/>whoami</a><li class=sidebar-nav-item><a href=https://vonheikemen.github.io/devlog/tags/>Explore tags</a><li class=sidebar-nav-item><a href=https://vonheikemen.github.io/devlog/es/>Devlog en español</a></ul>© 2020-2022 Heiker Curiel</div></div><div class="content container"><div class=post><h1 class=post-title>ZSH global aliases</h1><span class=post-date>2020-07-12
| 5 min read
| <a href=https://vonheikemen.github.io/devlog/es/tools/zsh-global-aliases/>Leer en español</a></span><p>If you have spend a significant amount of time writing commands in a shell chances are you have come across these handy little things called <strong>aliases</strong>. They usually come with the promise of boosting your productivity. Sometimes we use them to protect us from long commands with cryptic arguments and sometimes we use them just to save ourselves a few keystrokes. Regardless of your motives I'm going to show you another type of alias you might not know of, global aliases.<h2 id=a-quick-recap>A quick recap</h2><p>The typical situation where find you yourself in need of an alias is when you have a command you use often, like very often, so much that you are kinda tired of typing that thing over and over again. Let's take this command as an example:<pre data-lang=sh style=background-color:#2b2c2f;color:#cccece class=language-sh><code class=language-sh data-lang=sh><span style=color:#69c>tmux new-session</span><span style=color:#5fb3b3> -</span><span style=color:#f99157>A</span><span style=color:#5fb3b3> -</span><span style=color:#f99157>D</span><span style=color:#5fb3b3> -</span><span style=color:#f99157>s</span><span style=color:#69c> work
</span></code></pre><blockquote><p>Don't know what it does? <a rel=noopener target=_blank href="https://explainshell.com/explain?cmd=tmux+new-session+-A+-D+-s+work">Check this</a>.</blockquote><p>Now, wouldn't it be nice if I could just type this?<pre data-lang=sh style=background-color:#2b2c2f;color:#cccece class=language-sh><code class=language-sh data-lang=sh><span style=color:#69c>ts work
</span></code></pre><p>I already feel productive. Who do you get from the first example to this short beauty? With the <code>alias</code> command.<pre data-lang=js style=background-color:#2b2c2f;color:#cccece class=language-js><code class=language-js data-lang=js><span>alias ts</span><span style=color:#5fb3b3>=&#39;</span><span style=color:#99c794>tmux new-session -A -D -s</span><span style=color:#5fb3b3>&#39;
</span></code></pre><p>You can write that right in your shell and you will have for as long as your zsh session is alive. If you put it somewhere in your <code>.zshrc</code> it'll always be available to you.<p>Notice that I didn't put <code>work</code> in it. That is because that last argument is a name of my choosing. By leaving it out of the alias I can do put anything I want after it.<pre data-lang=sh style=background-color:#2b2c2f;color:#cccece class=language-sh><code class=language-sh data-lang=sh><span style=color:#69c>ts pomodoro
</span></code></pre><p>All that sounds good. What's the catch? Well, the alias works well when it's the first thing in our command but it fails if you try to use it in another place. Let's expand our example with another alias.<pre data-lang=sh style=background-color:#2b2c2f;color:#cccece class=language-sh><code class=language-sh data-lang=sh><span style=color:#69c>alias pomd</span><span style=color:#5fb3b3>=&#39;</span><span style=color:#99c794>gone -e &quot;notify-send -u critical Pomodoro Timeout&quot;</span><span style=color:#5fb3b3>&#39;
</span></code></pre><blockquote><p>That <a rel=noopener target=_blank href=https://github.com/guillaumebreton/gone>gone</a> command is a pomodoro clock.</blockquote><p>If you try to do this <code>ts pomodoro pomd</code>, you'll only get this message <code>[exited]</code>. That's because <code>pomd</code> in that case is just like a normal string, it doesn't have any special meaning in that context. Can we overcome that? Yes. Should we? I don't know but I'll show anyway.<h2 id=make-it-global>Make it global</h2><p>If a "simple" alias is not enough for you then all you have to do is add the flag <code>-g</code> to the <code>alias</code> command.<pre data-lang=sh style=background-color:#2b2c2f;color:#cccece class=language-sh><code class=language-sh data-lang=sh><span style=color:#69c>alias -g </span><span>name</span><span style=color:#5fb3b3>=&quot;</span><span style=color:#99c794>some-command</span><span style=color:#5fb3b3>&quot;
</span></code></pre><p>Let's look at a good use case (our pomodoro example is a terrible one). When you have a command with a long output sometimes you might want to use <code>less</code> to get navigate better. So let's do a global alias that pipes the output of a command to <code>less</code>.<pre data-lang=sh style=background-color:#2b2c2f;color:#cccece class=language-sh><code class=language-sh data-lang=sh><span style=color:#69c>alias -g </span><span>L</span><span style=color:#5fb3b3>=&quot;</span><span style=color:#99c794>| less</span><span style=color:#5fb3b3>&quot;
</span></code></pre><p>Now you can test it with a command.<pre data-lang=sh style=background-color:#2b2c2f;color:#cccece class=language-sh><code class=language-sh data-lang=sh><span style=color:#69c>du</span><span style=color:#5fb3b3> --</span><span style=color:#f99157>max-depth</span><span style=color:#5fb3b3>=</span><span style=color:#69c>1 L
</span></code></pre><blockquote><p><a rel=noopener target=_blank href="https://explainshell.com/explain?cmd=du+--max-depth%3D1+%7C+less">This is what it does</a>. It may take a while if you have bunch of stuff in your current working directory.</blockquote><p>See? This is convenient, useful and dangerous at the same time. Now every time a lonely <code>L</code> appears without quotes in any part of your command it will get replaced by <code>| less</code>. Sometimes that's not what you want. If you try to remove the alias using the <code>unalias</code> command like this.<pre data-lang=sh style=background-color:#2b2c2f;color:#cccece class=language-sh><code class=language-sh data-lang=sh><span style=color:#69c>unalias L
</span></code></pre><blockquote><p>To remove the alias you should quotes, like this: <code>unalias "L"</code></blockquote><p>You are actually running this command.<pre data-lang=sh style=background-color:#2b2c2f;color:#cccece class=language-sh><code class=language-sh data-lang=sh><span style=color:#69c>unalias </span><span style=color:#5fb3b3>| </span><span style=color:#69c>less
</span></code></pre><p>To minimize the risk of confusion it is advised that your global alias is in all caps, that is to make it standout from the rest of the command.<p>By now you probably think this is stupid and a very bad idea but there is hope.<h2 id=another-use-case>Another use case</h2><p>There is a builtin function called <code>_expand_alias</code>, it can help us use these type alias for a greater good.<p>If you use the <code>bindkey</code> with no arguments it gives you a list of every keybinding you have right now in your shell. You should already have the <code>_expand_alias</code> bound to a shortcut.
You can check with this.<pre data-lang=sh style=background-color:#2b2c2f;color:#cccece class=language-sh><code class=language-sh data-lang=sh><span style=color:#69c>bindkey </span><span style=color:#5fb3b3>| </span><span style=color:#69c>grep expand_alias
</span></code></pre><p>You should get: <code>"^Xa" _expand_alias</code>. That means it's bound to <code>ctrl+x a</code>.<p>With this new found knowledge we can create an alias for something that is very difficult to remember (or just too damn long to type) and then expand it before running the command.<p>Do you remember exactly how is it that you can suppress the stderr messages in a command? No? Well, there you go, there is your alias.<pre data-lang=sh style=background-color:#2b2c2f;color:#cccece class=language-sh><code class=language-sh data-lang=sh><span style=color:#69c>alias -g </span><span>@noerr</span><span style=color:#5fb3b3>=&quot;</span><span style=color:#99c794>2&gt; /dev/null</span><span style=color:#5fb3b3>&quot;
</span></code></pre><p>So now you can write something like this.<pre data-lang=sh style=background-color:#2b2c2f;color:#cccece class=language-sh><code class=language-sh data-lang=sh><span style=color:#69c>mkdir /tmp/this-doesnt-exists/name @noerr
</span></code></pre><p>But before hitting enter press <code>ctrl+x</code> then <code>a</code> and you'll get this cryptic beauty.<pre data-lang=sh style=background-color:#2b2c2f;color:#cccece class=language-sh><code class=language-sh data-lang=sh><span style=color:#69c>mkdir /tmp/this-doesnt-exists/name </span><span style=color:#f99157>2</span><span style=color:#5fb3b3>&gt;</span><span style=color:#69c> /dev/null 
</span></code></pre><blockquote><p>Remember kids, don't try random commands you see on the internet. Always <a rel=noopener target=_blank href="https://explainshell.com/explain?cmd=mkdir+%2Ftmp%2Fthis-doesnt-exists%2Fname+2%3E+%2Fdev%2Fnull">check</a>.</blockquote><h2 id=conclusion>Conclusion</h2><p>We have reached the end. Now you know what you can do with an alias, what limitations they have, how you can overcome those, and what you probably shouldn't do with them.<p>If you want some inspiration to create your own alias, <a rel=noopener target=_blank href=https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/common-aliases>check this</a>. That's a plugin for <a rel=noopener target=_blank href=https://github.com/ohmyzsh/ohmyzsh>ohmyzsh</a>. I would recommend taking a look in the source file and just copy the alias you actually find useful.<h2 id=source>Source</h2><ul><li><a rel=noopener target=_blank href=https://thorsten-hans.com/5-types-of-zsh-aliases>5 Types Of ZSH Aliases You Should Know</a></ul><hr><p>Have any question? Feel free to leave a comment
in one of these platform where I have shared this:<ul><li><a rel=noopener target=_blank href=https://dev.to/vonheikemen/zsh-global-aliases-4g15>dev.to</a><li><a rel=noopener target=_blank href=https://vonheikemen.hashnode.dev/zsh-global-aliases>Hashnode</a></ul><p>You can reach out to me on social media:<ul><li>Twitter <a rel="noopener me" target=_blank href=https://twitter.com/VonHeikemen_>@VonHeikemen_</a><li>Mastodon <a rel="noopener me" target=_blank href=https://hachyderm.io/@vonheikemen>@vonheikemen@hachyderm.io</a></ul><p>Thank you for reading. If you find this article useful and want to support my efforts, buy me a coffee ☕</p><a href=https://www.buymeacoffee.com/vonheikemen style=display:flex;justify-content:center target=_blank><img src=https://cdn.buymeacoffee.com/buttons/v2/default-blue.png alt="Buy Me A Coffee" style=height:60px!important;width:217px!important></a></div></div>