<!doctype html><html lang=en><head><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="text/html; charset=utf-8" http-equiv=content-type><meta content="width=device-width,initial-scale=1.0,maximum-scale=1,viewport-fit=cover" name=viewport><meta content="interest-cohort=()" http-equiv=Permissions-Policy><title>
  ZSH global aliases | Devlog
</title><link href=https://vonheikemen.github.io/devlog/print.css media=print rel=stylesheet><link href=https://vonheikemen.github.io/devlog/styles.css rel=stylesheet><link href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface" rel=stylesheet><link href=https://vonheikemen.github.io/devlog/atom.xml rel=alternate title=RSS type=application/atom+xml><link href=https://hachyderm.io/@vonheikemen rel=me><link href=https://twitter.com/VonHeikemen_ rel=me><meta content="zsh, shell, todayilearned, software, coding, development" name=keywords><meta content="What are they and how can we use them" name=description><body class=theme-base-custom><div class=sidebar><div class="container sidebar-sticky"><div class=sidebar-about><a href=https://vonheikemen.github.io/devlog/><h1>Devlog</h1></a></div><ul class=sidebar-nav><li class=sidebar-nav-item><a href=/>whoami</a><li class=sidebar-nav-item><a href=https://vonheikemen.github.io/devlog/tags/>Explore tags</a><li class=sidebar-nav-item><a href=https://vonheikemen.github.io/devlog/es/>Devlog en español</a><li class=sidebar-nav-item><a href=https://vonheikemen.github.io/devlog/atom.xml>RSS</a></ul> © 2020-2024 Heiker Curiel</div></div><div class="content container"><div class=post><h1 class=post-title>ZSH global aliases</h1><span class=post-date>2020-07-12 | 5 min read | <a href=https://vonheikemen.github.io/devlog/es/tools/zsh-global-aliases/> Leer en español </a> </span><p>If you have spend a significant amount of time writing commands in a shell chances are you have come across these handy little things called <strong>aliases</strong>. They usually come with the promise of boosting your productivity. Sometimes we use them to protect us from long commands with cryptic arguments and sometimes we use them just to save ourselves a few keystrokes. Regardless of your motives I'm going to show you another type of alias you might not know of, global aliases.<h2 id=a-quick-recap>A quick recap</h2><p>The typical situation where find you yourself in need of an alias is when you have a command you use often, like very often, so much that you are kinda tired of typing that thing over and over again. Let's take this command as an example:<pre class=language-sh data-lang=sh style=color:#cccece;background-color:#2b2c2f><code class=language-sh data-lang=sh><span style=color:#69c>tmux new-session</span><span style=color:#5fb3b3> -</span><span style=color:#f99157>A</span><span style=color:#5fb3b3> -</span><span style=color:#f99157>D</span><span style=color:#5fb3b3> -</span><span style=color:#f99157>s</span><span style=color:#69c> work
</span></code></pre><blockquote><p>Don't know what it does? <a href="https://explainshell.com/explain?cmd=tmux+new-session+-A+-D+-s+work" rel=noopener target=_blank>Check this</a>.</blockquote><p>Now, wouldn't it be nice if I could just type this?<pre class=language-sh data-lang=sh style=color:#cccece;background-color:#2b2c2f><code class=language-sh data-lang=sh><span style=color:#69c>ts work
</span></code></pre><p>I already feel productive. Who do you get from the first example to this short beauty? With the <code>alias</code> command.<pre class=language-js data-lang=js style=color:#cccece;background-color:#2b2c2f><code class=language-js data-lang=js><span>alias ts</span><span style=color:#5fb3b3>='</span><span style=color:#99c794>tmux new-session -A -D -s</span><span style=color:#5fb3b3>'
</span></code></pre><p>You can write that right in your shell and you will have for as long as your zsh session is alive. If you put it somewhere in your <code>.zshrc</code> it'll always be available to you.<p>Notice that I didn't put <code>work</code> in it. That is because that last argument is a name of my choosing. By leaving it out of the alias I can do put anything I want after it.<pre class=language-sh data-lang=sh style=color:#cccece;background-color:#2b2c2f><code class=language-sh data-lang=sh><span style=color:#69c>ts pomodoro
</span></code></pre><p>All that sounds good. What's the catch? Well, the alias works well when it's the first thing in our command but it fails if you try to use it in another place. Let's expand our example with another alias.<pre class=language-sh data-lang=sh style=color:#cccece;background-color:#2b2c2f><code class=language-sh data-lang=sh><span style=color:#69c>alias pomd</span><span style=color:#5fb3b3>='</span><span style=color:#99c794>gone -e "notify-send -u critical Pomodoro Timeout"</span><span style=color:#5fb3b3>'
</span></code></pre><blockquote><p>That <a href=https://github.com/guillaumebreton/gone rel=noopener target=_blank>gone</a> command is a pomodoro clock.</blockquote><p>If you try to do this <code>ts pomodoro pomd</code>, you'll only get this message <code>[exited]</code>. That's because <code>pomd</code> in that case is just like a normal string, it doesn't have any special meaning in that context. Can we overcome that? Yes. Should we? I don't know but I'll show anyway.<h2 id=make-it-global>Make it global</h2><p>If a "simple" alias is not enough for you then all you have to do is add the flag <code>-g</code> to the <code>alias</code> command.<pre class=language-sh data-lang=sh style=color:#cccece;background-color:#2b2c2f><code class=language-sh data-lang=sh><span style=color:#69c>alias -g </span><span>name</span><span style=color:#5fb3b3>="</span><span style=color:#99c794>some-command</span><span style=color:#5fb3b3>"
</span></code></pre><p>Let's look at a good use case (our pomodoro example is a terrible one). When you have a command with a long output sometimes you might want to use <code>less</code> to get navigate better. So let's do a global alias that pipes the output of a command to <code>less</code>.<pre class=language-sh data-lang=sh style=color:#cccece;background-color:#2b2c2f><code class=language-sh data-lang=sh><span style=color:#69c>alias -g </span><span>L</span><span style=color:#5fb3b3>="</span><span style=color:#99c794>| less</span><span style=color:#5fb3b3>"
</span></code></pre><p>Now you can test it with a command.<pre class=language-sh data-lang=sh style=color:#cccece;background-color:#2b2c2f><code class=language-sh data-lang=sh><span style=color:#69c>du</span><span style=color:#5fb3b3> --</span><span style=color:#f99157>max-depth</span><span style=color:#5fb3b3>=</span><span style=color:#69c>1 L
</span></code></pre><blockquote><p><a href="https://explainshell.com/explain?cmd=du+--max-depth%3D1+%7C+less" rel=noopener target=_blank>This is what it does</a>. It may take a while if you have bunch of stuff in your current working directory.</blockquote><p>See? This is convenient, useful and dangerous at the same time. Now every time a lonely <code>L</code> appears without quotes in any part of your command it will get replaced by <code>| less</code>. Sometimes that's not what you want. If you try to remove the alias using the <code>unalias</code> command like this.<pre class=language-sh data-lang=sh style=color:#cccece;background-color:#2b2c2f><code class=language-sh data-lang=sh><span style=color:#69c>unalias L
</span></code></pre><blockquote><p>To remove the alias you should quotes, like this: <code>unalias "L"</code></blockquote><p>You are actually running this command.<pre class=language-sh data-lang=sh style=color:#cccece;background-color:#2b2c2f><code class=language-sh data-lang=sh><span style=color:#69c>unalias </span><span style=color:#5fb3b3>| </span><span style=color:#69c>less
</span></code></pre><p>To minimize the risk of confusion it is advised that your global alias is in all caps, that is to make it standout from the rest of the command.<p>By now you probably think this is stupid and a very bad idea but there is hope.<h2 id=another-use-case>Another use case</h2><p>There is a builtin function called <code>_expand_alias</code>, it can help us use these type alias for a greater good.<p>If you use the <code>bindkey</code> with no arguments it gives you a list of every keybinding you have right now in your shell. You should already have the <code>_expand_alias</code> bound to a shortcut. You can check with this.<pre class=language-sh data-lang=sh style=color:#cccece;background-color:#2b2c2f><code class=language-sh data-lang=sh><span style=color:#69c>bindkey </span><span style=color:#5fb3b3>| </span><span style=color:#69c>grep expand_alias
</span></code></pre><p>You should get: <code>"^Xa" _expand_alias</code>. That means it's bound to <code>ctrl+x a</code>.<p>With this new found knowledge we can create an alias for something that is very difficult to remember (or just too damn long to type) and then expand it before running the command.<p>Do you remember exactly how is it that you can suppress the stderr messages in a command? No? Well, there you go, there is your alias.<pre class=language-sh data-lang=sh style=color:#cccece;background-color:#2b2c2f><code class=language-sh data-lang=sh><span style=color:#69c>alias -g </span><span>@noerr</span><span style=color:#5fb3b3>="</span><span style=color:#99c794>2> /dev/null</span><span style=color:#5fb3b3>"
</span></code></pre><p>So now you can write something like this.<pre class=language-sh data-lang=sh style=color:#cccece;background-color:#2b2c2f><code class=language-sh data-lang=sh><span style=color:#69c>mkdir /tmp/this-doesnt-exists/name @noerr
</span></code></pre><p>But before hitting enter press <code>ctrl+x</code> then <code>a</code> and you'll get this cryptic beauty.<pre class=language-sh data-lang=sh style=color:#cccece;background-color:#2b2c2f><code class=language-sh data-lang=sh><span style=color:#69c>mkdir /tmp/this-doesnt-exists/name </span><span style=color:#f99157>2</span><span style=color:#5fb3b3>></span><span style=color:#69c> /dev/null 
</span></code></pre><blockquote><p>Remember kids, don't try random commands you see on the internet. Always <a href="https://explainshell.com/explain?cmd=mkdir+%2Ftmp%2Fthis-doesnt-exists%2Fname+2%3E+%2Fdev%2Fnull" rel=noopener target=_blank>check</a>.</blockquote><h2 id=conclusion>Conclusion</h2><p>We have reached the end. Now you know what you can do with an alias, what limitations they have, how you can overcome those, and what you probably shouldn't do with them.<p>If you want some inspiration to create your own alias, <a href=https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/common-aliases rel=noopener target=_blank>check this</a>. That's a plugin for <a href=https://github.com/ohmyzsh/ohmyzsh rel=noopener target=_blank>ohmyzsh</a>. I would recommend taking a look in the source file and just copy the alias you actually find useful.<h2 id=source>Source</h2><ul><li><a href=https://thorsten-hans.com/5-types-of-zsh-aliases rel=noopener target=_blank>5 Types Of ZSH Aliases You Should Know</a></ul><hr><p>Have any question? Feel free to leave a comment in one of these platform where I have shared this:<ul><li><a href=https://dev.to/vonheikemen/zsh-global-aliases-4g15 rel=noopener target=_blank>dev.to</a><li><a href=https://vonheikemen.hashnode.dev/zsh-global-aliases rel=noopener target=_blank>Hashnode</a></ul><p>You can reach out to me on social media:<ul><li>Twitter <a rel="noopener me" href=https://twitter.com/VonHeikemen_ target=_blank> @VonHeikemen_ </a><li>Bluesky <a rel="noopener me" href=https://bsky.app/profile/vonheikemen.bsky.social target=_blank> @vonheikemen.bsky.social </a><li>Mastodon <a rel="noopener me" href=https://hachyderm.io/@vonheikemen target=_blank> @vonheikemen@hachyderm.io </a></ul><p>Thank you for reading. If you find this article useful and want to support my efforts, buy me a coffee ☕</p><a href=https://ko-fi.com/vonheikemen style=justify-content:center;display:flex target=_blank> <img alt="Buy Me A Coffee" src="https://storage.ko-fi.com/cdn/kofi2.png?v=3" style=width:217px!important;height:60px!important> </a></div></div>