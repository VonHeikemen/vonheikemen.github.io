<!doctype html><html lang=en><head><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="text/html; charset=utf-8" http-equiv=content-type><meta content="width=device-width,initial-scale=1.0,maximum-scale=1,viewport-fit=cover" name=viewport><meta content="interest-cohort=()" http-equiv=Permissions-Policy><title>
  Simple Neovim config | Devlog
</title><link href=https://vonheikemen.github.io/devlog/print.css media=print rel=stylesheet><link href=https://vonheikemen.github.io/devlog/styles.css rel=stylesheet><link href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface" rel=stylesheet><link href=https://vonheikemen.github.io/devlog/atom.xml rel=alternate title=RSS type=application/atom+xml><link href=https://hachyderm.io/@vonheikemen rel=me><link href=https://twitter.com/VonHeikemen_ rel=me><meta content="vim, neovim, shell, software, coding, development" name=keywords><meta content="Learn the basics of Neovim configuration in lua" name=description><body class=theme-base-custom><div class=sidebar><div class="container sidebar-sticky"><div class=sidebar-about><a href=https://vonheikemen.github.io/devlog/><h1>Devlog</h1></a></div><ul class=sidebar-nav><li class=sidebar-nav-item><a href=/>whoami</a><li class=sidebar-nav-item><a href=https://vonheikemen.github.io/devlog/tags/>Explore tags</a><li class=sidebar-nav-item><a href=https://vonheikemen.github.io/devlog/es/>Devlog en español</a><li class=sidebar-nav-item><a href=https://vonheikemen.github.io/devlog/atom.xml>RSS</a></ul> © 2020-2026 Heiker Curiel</div></div><div class="content container"><div class=post><h1 class=post-title>Simple Neovim config</h1><span class=post-date>2024-09-12 | 17 min read | <a href=https://vonheikemen.github.io/devlog/es/tools/simple-neovim-config/> Leer en español </a> </span><blockquote>Last updated: 2026-01-05</blockquote><p>Can I offer you a nice Neovim configuration in this trying time?<p>40 lines of code. That's all you need to have a solid starting point. Believe it or not, even those IDE-like features people talk about online can be enabled using just <strong>1 plugin</strong> and a few keymaps.<p>You can try <a href=https://vonheikemen.github.io/devlog/tools/simple-neovim-config/#init-lua>this simple config</a> and then add new things to it based on the problems you encounter along the way. Or just take this as an opportunity to learn about the basics of Neovim configuration.<h2 id=installing-neovim>Installing Neovim</h2><p>We are going to need Neovim v0.9 or greater. But be aware a lot of plugins written in lua only guarantee support for the latest stable version. Right now that's v0.11.4 which was released on <code>August 31, 2025</code>.<p>If you are on linux, pay attention to the version your package manager has available.<p>If you know how to install precompiled executables you can download the latest version from the <a rel="noopener external" href=https://github.com/neovim/neovim/releases target=_blank>github releases</a>.<p>There is also a Neovim version manager called <code>bob</code>. You can try it: <a rel="noopener external" href=https://github.com/MordechaiHadad/bob target=_blank>MordechaiHadad/bob</a><h2 id=the-config-file>The config file</h2><p>The entry point for our Neovim configuration will be a file called <code>init.lua</code>. The location of this file can change depending on the operating system, so to save ourselves some trouble we will create it using Neovim in headless mode.<p>Execute this command on the terminal.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=shellscript><span class=giallo-l><span style=color:#7aa89f>nvim</span><span style=color:#98bb6c> --headless -c 'exe "write ++p" stdpath("config") . "/init.lua"' -c 'quit'</span></span></code></pre><p>Once the configuration file exists we can check where it is using this command in the terminal:<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=shellscript><span class=giallo-l><span style=color:#7aa89f>nvim</span><span style=color:#98bb6c> --headless -c 'echo $MYVIMRC' -c 'quit'</span></span></code></pre><p>Now we can start adding some code. But first, if you are not familiar with lua I suggest taking some time to understand the syntax of the language.<ul><li><a href="https://www.youtube.com/watch?v=NneB6GX1Els" rel="noopener external" target=_blank>Lua crash course (12 min video)</a><li><a rel="noopener external" href=https://learnxinyminutes.com/docs/lua/ target=_blank>Learn X in Y minutes: Where X = lua</a></ul><p>There is no need to memorize everything or become a lua expert, just review the syntax and have a reference at hand.<h2 id=editor-settings>Editor settings</h2><p>Neovim's defaults are actually good but there are still a few options that need to be enabled/changed. To do this in lua <a rel="noopener external" href=https://neovim.io/doc/user/lua-guide.html#_vim.o target=_blank>vim.o</a> is the <a rel="noopener external" href=https://github.com/neovim/neovim/issues/30383#issuecomment-2351519326 target=_blank>recommended method</a>. We access a property through <code>vim.o</code> and assign a value to it. Like this.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.o.option_name</span><span style=color:#e6c384> =</span><span> value</span></span></code></pre><p>Where <code>option_name</code> can be anything on this list: <a rel="noopener external" href=https://neovim.io/doc/user/quickref.html#option-list target=_blank>Quickref - option list</a>.<p>Here's some basic settings that you may find useful:<ul><li>Enable line numbers.</ul><pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.o.number</span><span style=color:#e6c384> =</span><span style=color:#ffa066> true</span></span></code></pre><ul><li>Disable line wrapping</ul><pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.o.wrap</span><span style=color:#e6c384> =</span><span style=color:#ffa066> false</span></span></code></pre><ul><li>Adjust the width of the tab character.</ul><pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.o.tabstop</span><span style=color:#e6c384> =</span><span style=color:#d27e99> 2</span></span>
<span class=giallo-l><span>vim.o.shiftwidth</span><span style=color:#e6c384> =</span><span style=color:#d27e99> 2</span></span></code></pre><ul><li>Ignore case when the search pattern is all lowercase</ul><pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.o.smartcase</span><span style=color:#e6c384> =</span><span style=color:#ffa066> true</span></span>
<span class=giallo-l><span>vim.o.ignorecase</span><span style=color:#e6c384> =</span><span style=color:#ffa066> true</span></span></code></pre><ul><li>Clear search highlights after submit</ul><pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.o.hlsearch</span><span style=color:#e6c384> =</span><span style=color:#ffa066> false</span></span></code></pre><ul><li>Reserve a space in the gutter for signs. Some plugins use this to show icons.</ul><pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.o.signcolumn</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'yes'</span></span></code></pre><h2 id=changing-neovim-s-theme>Changing Neovim's theme</h2><p>The way we do this in lua is using <a rel="noopener external" href=https://neovim.io/doc/user/lua-guide.html#_vim-commands target=_blank>vim.cmd</a>. Use <code>vim.cmd</code> to execute the command <code>colorscheme</code>.<p>Ideally, we would do something like this.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.cmd.</span><span style=color:#7e9cd8>colorscheme</span><span>(</span><span style=color:#98bb6c>'retrobox'</span><span>)</span></span></code></pre><p>There is nothing wrong with the example above. That is the correct way to change the theme. However, <code>retrobox</code> is a recent a addition to Neovim. If you have Neovim v0.9.5 or lower the command will fail. For the sake of backwards compatibility I will recommend using a "protective call," this way you can setup a backup theme just in case.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>local ok_theme</span><span style=color:#e6c384> =</span><span style=color:#7e9cd8> pcall</span><span>(vim.cmd.colorscheme, </span><span style=color:#98bb6c>'retrobox'</span><span>)</span></span>
<span class=giallo-l><span style=color:#957fb8>if</span><span style=color:#e6c384> not</span><span> ok_theme</span><span style=color:#957fb8> then</span></span>
<span class=giallo-l><span>  vim.cmd.</span><span style=color:#7e9cd8>colorscheme</span><span>(</span><span style=color:#98bb6c>'habamax'</span><span>)</span></span>
<span class=giallo-l><span style=color:#957fb8>end</span></span></code></pre><h2 id=clipboard-interaction>Clipboard interaction</h2><p>This is where we learn about <a rel="noopener external" href=https://neovim.io/doc/user/lua-guide.html#_mappings target=_blank>vim.keymap.set()</a>, the function we use to create new keymaps.<p>By default when you copy some text using the <code>y</code> keymap Neovim will store that in a register. The <code>p</code> keymap, which we use to paste, also uses the same register as <code>y</code>. Basically, Neovim will ignore the system clipboard. We can still use it but we have to be explicit.<p>Now, I like to keep the default behavior and what I do is create new keymaps to use the system clipboard.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>({</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'x'</span><span>}, </span><span style=color:#98bb6c>'gy'</span><span>, </span><span style=color:#98bb6c>'"+y'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Copy to clipboard'</span><span>})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>({</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'x'</span><span>}, </span><span style=color:#98bb6c>'gp'</span><span>, </span><span style=color:#98bb6c>'"+p'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Paste clipboard text'</span><span>})</span></span></code></pre><p>With this <code>gy</code> will be the keymap to copy content to the clipboard, and <code>gp</code> will paste content from the clipboard to Neovim.<p>Side note: <code>{'n', 'x'}</code> is the list of vim modes where we want our keymap to be created. <code>n</code> is normal mode and <code>x</code> is visual mode.<h2 id=the-leader-key>The leader key</h2><p>Usually we don't go around making keymaps that override the defaults like we did in the previous section. Most of the time we prefix our custom keymaps with the special string <code>&lt;leader></code>. This way we don't override an important feature or cause some sort of conflict.<p>But what's <code>&lt;leader></code>?<p>By default is the <code>\</code> key. So, if we create a keymap like this:<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>h'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>echo "hello there"&lt;cr>'</span><span>)</span></span></code></pre><p>Then <code>\ + h</code> will print the message <code>hello there</code>.<p>But we can change that using the <strong>vim global variable</strong> <code>mapleader</code>.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.g.mapleader</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> ','</span></span></code></pre><p>With this your leader key will change from <code>\</code> to <code>,</code>. But note that if you want to use a special sequence like <code>Control + k</code> you'll have to use its keycode.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.g.mapleader</span><span style=color:#e6c384> =</span><span> vim.</span><span style=color:#7e9cd8>keycode</span><span>(</span><span style=color:#98bb6c>'&lt;C-k>'</span><span>)</span></span></code></pre><p>Most people use the <code>Space key</code> as their leader key.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.g.mapleader</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> ' '</span></span></code></pre><p>Yes, that's a string with a blank space. <code>vim.keycode</code> was added in Neovim v0.10, so before that people just did that thing with the blank space. So if you have it, then you can make it more explicit.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.g.mapleader</span><span style=color:#e6c384> =</span><span> vim.</span><span style=color:#7e9cd8>keycode</span><span>(</span><span style=color:#98bb6c>'&lt;Space>'</span><span>)</span></span></code></pre><p>Is important to note order matters, you <strong>must</strong> to define <code>mapleader</code> before you use <code>&lt;leader></code> in your keymaps.<h2 id=command-shorcuts>Command shorcuts</h2><p>Now let's make keymaps that can execute <a rel="noopener external" href=https://neovim.io/doc/user/vimindex.html#_6.-ex-commands target=_blank>Ex-commands</a>.<p>There are two ways of doing it, and this is my favorite:<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=plain><span class=giallo-l><span>&lt;cmd>...&lt;cr></span></span></code></pre><p><code>&lt;cmd></code> is a special sequence that tells Neovim that you want to execute a vim expression. <code>&lt;cr></code> represents the enter key, it marks the end of the expression you want to execute.<p>Here are a couple of examples:<ul><li>Save current file.</ul><pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>w'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>write&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Save file'</span><span>})</span></span></code></pre><ul><li>Close all files and exit Neovim.</ul><pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>q'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>quitall&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Exit vim'</span><span>})</span></span></code></pre><h2 id=installing-plugins>Installing plugins</h2><p>So Neovim is very close to have <a rel="noopener external" href=https://neovim.io/doc/user/pack.html#_plugin-manager target=_blank>its own plugin manager</a>. But, it will take a few years before is included in a stable release available in every operating system. Right now only those who download Neovim's "nightly version" will be able to use it in its current state.<p>Interestingly enough, Neovim's plugin manager is based on a plugin called <a rel="noopener external" href=https://nvim-mini.org/mini.nvim/doc/mini-deps.html target=_blank>mini.deps</a>. So while the Neovim team works on the new plugin manager, we can use <code>mini.deps</code>. In the future it should be fairly simple to migrate from <code>mini.deps</code> to the native solution.<p>The question is, <em>how does one install a plugin without a plugin manager?</em><p>There is a feature in <strong>Vim</strong> called <a href=https://vonheikemen.github.io/devlog/tools/installing-neovim-plugins-without-a-plugin-manager/>packages</a>. Long story short, we can put plugins in a specific location in they should work.<p>Let's use Neovim in headless mode again, this time to create the directory were <code>mini.deps</code> should be.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=shellscript><span class=giallo-l><span style=color:#7aa89f>nvim</span><span style=color:#98bb6c> --headless -c 'call mkdir(stdpath("data") . "/site/pack/deps/start/", "p")' -c 'quit'</span></span></code></pre><p>This other command will show the full path of the directory we just created.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=shellscript><span class=giallo-l><span style=color:#7aa89f>nvim</span><span style=color:#98bb6c> --headless -c 'echo stdpath("data") . "/site/pack/deps/start/"' -c 'quit'</span></span></code></pre><p>Now navigate to that location using your terminal. You will want to execute the command <code>git clone</code> inside that directory.<ul><li>Install <a rel="noopener external" href=https://github.com/nvim-mini/mini.nvim target=_blank>mini.nvim</a></ul><p><code>mini.deps</code> is part of a project called <code>mini.nvim</code>, which is a collection of lua modules aimed to solve common problems and enhance some of Neovim builtin features. So we want to download <code>mini.nvim</code> using this command.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=plain><span class=giallo-l><span>git clone --filter=blob:none https://github.com/nvim-mini/mini.nvim</span></span></code></pre><p>After the install is complete we should generate the help tags.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=shellscript><span class=giallo-l><span style=color:#7aa89f>nvim</span><span style=color:#98bb6c> --headless -c 'helptags ALL' -c 'quit'</span></span></code></pre><p>To use the plugin we must load the module <code>mini.deps</code>. But here we want to use in a way that is "safe." Because what if we copy our configuration to a new machine but we forget to download <code>mini.nvim</code>? If we do it the normal way we get hit by a scary wall of red text. We can make the experience less jarring by adding a few lines code.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>local ok, MiniDeps</span><span style=color:#e6c384> =</span><span style=color:#7e9cd8> pcall</span><span>(</span><span style=color:#7e9cd8>require</span><span>, </span><span style=color:#98bb6c>'mini.deps'</span><span>)</span></span>
<span class=giallo-l><span style=color:#957fb8>if</span><span style=color:#e6c384> not</span><span> ok</span><span style=color:#957fb8> then</span></span>
<span class=giallo-l><span>  vim.</span><span style=color:#7e9cd8>notify</span><span>(</span><span style=color:#98bb6c>'[WARN] mini.deps module not found'</span><span>, vim.log.levels.WARN)</span></span>
<span class=giallo-l><span style=color:#957fb8>  return</span></span>
<span class=giallo-l><span style=color:#957fb8>end</span></span></code></pre><p>Here if something goes wrong Neovim will output a single line message then it will stop the execution of the script.<p>If everything goes according to plan every function of the <code>mini.deps</code> module will be inside the variable <code>MiniDeps</code>.<p>Is important to note all features of <code>mini.nvim</code> are opt-in, meaning we have to do something in our configuration to enable a module. For <code>mini.deps</code> we have to use a function called <code>.setup()</code>. So we add this after we load the module.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>MiniDeps.</span><span style=color:#7e9cd8>setup</span><span>({})</span></span></code></pre><ul><li>Install <a rel="noopener external" href=https://github.com/neovim/nvim-lspconfig target=_blank>nvim-lspconfig</a></ul><p>We will use this plugin to help us enable IDE-like features.<p>At this point we have <code>mini.deps</code> available so is easier to install a new plugin. This is the minimum amount of code we need.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>MiniDeps.</span><span style=color:#7e9cd8>add</span><span>(</span><span style=color:#98bb6c>'neovim/nvim-lspconfig'</span><span>)</span></span></code></pre><p>The <code>.add()</code> function will make sure the plugin is installed and loaded. And is also the reason I recommend using <code>mini.deps</code> while we wait for Neovim's plugin manager. In the future we will be able to add plugins like this:<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.pack.</span><span style=color:#7e9cd8>add</span><span>({</span><span style=color:#98bb6c>'https://github.com/neovim/nvim-lspconfig'</span><span>})</span></span></code></pre><p>There are some sutle differences between <code>mini.deps</code> and <code>vim.pack</code> but for the most part those two functions do the same thing.<p>For now let's focus on <code>mini.deps</code> because that's the thing we are going to use.<p>The moment we need to add more information about the plugin we want to download we should replace the string with a lua table. For example, let's say we want to download a previous version of <code>nvim-lspconfig</code>. This is what we do.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>MiniDeps.</span><span style=color:#7e9cd8>add</span><span>({</span></span>
<span class=giallo-l><span>  source</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'neovim/nvim-lspconfig'</span><span>,</span></span>
<span class=giallo-l><span>  checkout</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'v1.8.0'</span></span>
<span class=giallo-l><span>})</span></span></code></pre><p>Now the first argument to <code>.add()</code> is a lua table with some properties. <code>source</code> would be the link to the plugin. In <code>mini.deps</code> github links get a special treatment because is very popular, so here we can just specify the github user and the name of the repository. <code>checkout</code> can be a commit hash, tag or branch name. In this case <a rel="noopener external" href=https://github.com/neovim/nvim-lspconfig/releases/tag/v1.8.0 target=_blank>v1.8.0</a> is a tag on the <code>nvim-lspconfig</code> repository, it is the last version that supports <strong>Neovim v0.9</strong>.<p>To know more details about <code>mini.deps</code> read the official documentation: <a rel="noopener external" href=https://nvim-mini.org/mini.nvim/doc/mini-deps.html target=_blank>mini.nvim/doc/mini-deps.html</a>.<h2 id=file-explorer>File explorer</h2><p>You should know that Neovim already has a file explorer, <a href=https://vonheikemen.github.io/devlog/tools/using-netrw-vim-builtin-file-explorer/>it's called netrw</a>. We are not going to use it here because it has a few quirks I dislike. Still, I think you should know it exists.<p>Since we have <code>mini.nvim</code> available let's use the file explorer it provides: <a rel="noopener external" href=https://github.com/nvim-mini/mini.nvim/blob/main/readmes/mini-files.md target=_blank>mini.files</a>.<p>First, we call <code>mini.files</code> setup function.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.files'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({})</span></span></code></pre><p>This is a common convention of lua plugins. Sometimes <strong>you have to</strong> execute a function called <code>.setup()</code> to enable the plugin. Notice I said is a convention, it is not a rule. Some plugins execute their setup automatically.<p>How do we use <code>mini.files</code>?<p>We make a keymap to open the file explorer.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>e'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua MiniFiles.open()&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'File explorer'</span><span>})</span></span></code></pre><p>After we open the file explorer press <code>g</code> then <code>?</code>, this will show the keymaps available.<p>What if we want to change the settings in <code>mini.files</code>?<p>Any custom setting should be inside the <code>{}</code> of the setup function. Here's an example.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.files'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({</span></span>
<span class=giallo-l><span>  mappings</span><span style=color:#e6c384> =</span><span> {</span></span>
<span class=giallo-l><span>    show_help</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'gh'</span><span>,</span></span>
<span class=giallo-l><span>  },</span></span>
<span class=giallo-l><span>})</span></span></code></pre><p>This will change the keymap that shows the help window. Instead of <code>g?</code> now is <code>gh</code> (get help).<p>These custom settings are in a "lua table." If there is piece of syntax that you should learn is that one. Knowing the correct syntax of a lua table will prevent so many headaches.<p>And how did I know those settings exists?<p>In Neovim's command-line I executed this command.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=viml><span class=giallo-l><span>:help mini.files</span></span></code></pre><p>That took me to <a rel="noopener external" href=https://github.com/nvim-mini/mini.nvim/blob/main/doc/mini-files.txt target=_blank>the help page of mini.files</a>.<p>Remember when we installed <code>mini.nvim</code>? We generated some called help tags. These tags allow you to navigate to the "offline" documentation of the plugin: the help page.<p>The tab complete feature of the <code>:help</code> command is really good too. You can type <code>:help mini</code> and then press the <code>Tab</code> key, Neovim will show you all the help tags that start with <code>mini</code>.<p>One more thing, if the font on your terminal doesn't support "icons" then you can add the <a rel="noopener external" href=https://github.com/nvim-mini/mini.nvim/blob/main/readmes/mini-icons.md target=_blank>mini.icons</a> module. Set the <code>style</code> property to <code>ascii</code>.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.icons'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({style</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'ascii'</span><span>})</span></span></code></pre><h2 id=navigating-between-files>Navigating between files</h2><p>For educational purposes only, I will tell you what I do when I don't have plugins installed: I use the <code>files</code> command to list the open files, then use the <code>buffer</code> command to navigate the file I want. And to make it convenient I make a keymap.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>&lt;space>'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>files&lt;cr>:buffer '</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Search open files'</span><span>})</span></span></code></pre><p>In the <code>:buffer</code> command you can tab complete the name of the file or use the "id" of the buffer.<p>But why do that when we have <code>mini.nvim</code> installed? We can use the module <a rel="noopener external" href=https://github.com/nvim-mini/mini.nvim/blob/main/readmes/mini-pick.md target=_blank>mini.pick</a>. This one provides a fancy interactive filter. And it also gives us commands we can use to search files.<p>If you use the module <a rel="noopener external" href=https://github.com/nvim-mini/mini.nvim/blob/main/readmes/mini-extra.md target=_blank>mini.extra</a> you will have access to more search commands in <code>mini.pick</code>.<p>Anyway, enable <code>mini.pick</code> module.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.pick'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({})</span></span></code></pre><p>Then create keymaps to start the search between files.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>&lt;space>'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>Pick buffers&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Search open files'</span><span>})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>ff'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>Pick files&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Search all files'</span><span>})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>fh'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>Pick help&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Search help tags'</span><span>})</span></span></code></pre><h2 id=code-completion>Code completion</h2><p>For this we will use <a rel="noopener external" href=https://github.com/nvim-mini/mini.nvim/blob/main/readmes/mini-completion.md target=_blank>mini.completion</a> and <a rel="noopener external" href=https://github.com/nvim-mini/mini.nvim/blob/main/readmes/mini-snippets.md target=_blank>mini.snippets</a>.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.snippets'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({})</span></span>
<span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.completion'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({})</span></span></code></pre><p><code>mini.completion</code> is kind of a wrapper around Neovim's builtin completion mechanism. Neovim makes you press specific keybindings depending on the type of completion you want to get. And what <code>mini.completion</code> can do is take that burden away from you, by triggering the completion automatically as you type. In other words, it adds true autocompletion to Neovim.<p>By default you just get suggestions based on words of the current file. But whenever possible it'll try to use the LSP client to provide smart code completion.<p>To control the completion menu we use Neovim's default keybindings:<ul><li><p><code>&lt;Down></code>: Select the next item on the list.</p><li><p><code>&lt;Up></code>: Select previous item on the list.</p><li><p><code>&lt;Ctrl-n></code>: Select and insert text of the next item on the list.</p><li><p><code>&lt;Ctrl-p></code>: Select and insert text of the previous item on the list.</p><li><p><code>&lt;Ctrl-y></code>: Confirm selected item.</p><li><p><code>&lt;Ctrl-e></code>: Cancel the completion.</p><li><p><code>&lt;Enter></code>: If item was selected using <code>&lt;Up></code> or <code>&lt;Down></code> it confirms selection. If no item is selected, hides completion menu. Else, inserts a newline character.</p></ul><p>Unfortunately, Neovim's builtin completion mechanism does not offer any support for snippets by default. That's why we have <code>mini.snippets</code>. But to be fair, newer versions of Neovim do have some support for snippets... but even with that, it still doesn't offer as many features as <code>mini.snippets</code>.<h2 id=the-lsp-client>The LSP client</h2><p>Neovim's LSP client is the thing that enables the nice IDE-like features. Things like go to definition, rename variable, inspect function signature. You get the idea. But this "client" doesn't work on its own, it needs a server. In this case a "server" is an external program that implements the <a rel="noopener external" href=https://microsoft.github.io/language-server-protocol/overviews/lsp/overview/ target=_blank>LSP specification</a>. If you want to know more details about LSP and language servers, watch this video by TJ DeVries: <a href="https://www.youtube.com/watch?v=LaS32vctfOY" rel="noopener external" target=_blank>LSP explained (5 min)</a>.<p>What do we need to do here? We follow these 3 steps.<ul><li>Install a language server<li>Configure that language server<li>Create some keymaps (optional)</ul><h3 id=step-1-install-a-language-server>Step 1: Install a language server</h3><p>The Neovim community has created a resource where we can find a list of language servers. This list is in <code>nvim-lspconfig</code> documentation: <a rel="noopener external" href=https://github.com/neovim/nvim-lspconfig/blob/master/doc/configs.md target=_blank>configs.md</a>.<p>Since I need some examples for the next step I'm going to show the install commands for the <code>go</code> language server and the <code>rust</code> language server.<p>If you have the toolchain for the <a rel="noopener external" href=https://go.dev/ target=_blank>go programming language</a> you can download its language server (<code>gopls</code>) using this command.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=plain><span class=giallo-l><span>go install golang.org/x/tools/gopls@latest</span></span></code></pre><p>If you have <a rel="noopener external" href=https://rust-lang.github.io/rustup/ target=_blank>rustup</a> installed you can download <code>rust_analyzer</code> using this command.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=plain><span class=giallo-l><span>rustup component add rust-analyzer</span></span></code></pre><h3 id=step-2-configure-a-language-server>Step 2: Configure a language server</h3><p>Now you have to "enable" each language server you have installed in your system.<p>On <strong>Neovim v0.11</strong> you can use the function <a rel="noopener external" href=https://neovim.io/doc/user/lsp.html#vim.lsp.enable() target=_blank>vim.lsp.enable()</a>.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.lsp.</span><span style=color:#7e9cd8>enable</span><span>(</span><span style=color:#98bb6c>'example_server'</span><span>)</span></span></code></pre><p>On <strong>Neovim v0.10</strong> or lower you must use the "legacy setup" function of <code>nvim-lspconfig</code>.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'lspconfig'</span><span>).example_server.</span><span style=color:#7e9cd8>setup</span><span>({})</span></span></code></pre><p>If you have the language server for <code>go</code> and <code>rust</code> you would do this.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.lsp.</span><span style=color:#7e9cd8>enable</span><span>({</span><span style=color:#98bb6c>'gopls'</span><span>, </span><span style=color:#98bb6c>'rust_analyzer'</span><span>})</span></span></code></pre><p>Or this.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'lspconfig'</span><span>).gopls.</span><span style=color:#7e9cd8>setup</span><span>({})</span></span>
<span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'lspconfig'</span><span>).rust_analyzer.</span><span style=color:#7e9cd8>setup</span><span>({})</span></span></code></pre><p>If you want your config to be backwards compatible you can write a function that uses the correct method.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span style=color:#727169>-- This function will use the "legacy setup" on older Neovim version.</span></span>
<span class=giallo-l><span style=color:#727169>-- The new api is only available on Neovim v0.11 or greater.</span></span>
<span class=giallo-l><span>local</span><span style=color:#957fb8> function</span><span style=color:#7e9cd8> lsp_setup</span><span style=color:#9cabca>(</span><span>server</span><span style=color:#9cabca>,</span><span> opts</span><span style=color:#9cabca>)</span></span>
<span class=giallo-l><span style=color:#957fb8>  if</span><span> vim.fn.</span><span style=color:#7e9cd8>has</span><span>(</span><span style=color:#98bb6c>'nvim-0.11'</span><span>) </span><span style=color:#e6c384>==</span><span style=color:#d27e99> 0</span><span style=color:#957fb8> then</span></span>
<span class=giallo-l><span style=color:#7e9cd8>    require</span><span>(</span><span style=color:#98bb6c>'lspconfig'</span><span>)[server].</span><span style=color:#7e9cd8>setup</span><span>(opts)</span></span>
<span class=giallo-l><span style=color:#957fb8>    return</span></span>
<span class=giallo-l><span style=color:#957fb8>  end</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#957fb8>  if</span><span style=color:#e6c384> not</span><span> vim.</span><span style=color:#7e9cd8>tbl_isempty</span><span>(opts) </span><span style=color:#957fb8>then</span></span>
<span class=giallo-l><span>    vim.lsp.</span><span style=color:#7e9cd8>config</span><span>(server, opts)</span></span>
<span class=giallo-l><span style=color:#957fb8>  end</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>  vim.lsp.</span><span style=color:#7e9cd8>enable</span><span>(server)</span></span>
<span class=giallo-l><span style=color:#957fb8>end</span></span></code></pre><p>Then you can write the setup like this:<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span style=color:#7e9cd8>lsp_setup</span><span>(</span><span style=color:#98bb6c>'gopls'</span><span>, {})</span></span>
<span class=giallo-l><span style=color:#7e9cd8>lsp_setup</span><span>(</span><span style=color:#98bb6c>'rust_analyzer'</span><span>, {})</span></span></code></pre><p>Do note there are a handful of language servers that can't be configured with <code>vim.lsp.enable()</code>. The list of missing servers is in this github issue: <a rel="noopener external" href=https://github.com/neovim/nvim-lspconfig/issues/3705 target=_blank>nvim-lspconfig/issues/3705</a>.<h3 id=step-3-create-keymaps>Step 3: Create keymaps</h3><p>After a language server is active in the current buffer we can use the functions under the module <a rel="noopener external" href=https://neovim.io/doc/user/lsp.html#lsp-buf target=_blank>vim.lsp.buf</a>. On <strong>Neovim v0.11</strong> we have a handful of keymaps that trigger functions on this module. But on older versions we have to create the keymaps ourselves.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span style=color:#727169>-- NOTE: These keymaps are already part of Neovim v0.11.</span></span>
<span class=giallo-l><span style=color:#727169>-- You do not have to add them to your personal configuration</span></span>
<span class=giallo-l><span style=color:#727169>-- if you are using Neovim v0.11 or greater.</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Displays a function's signature information</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'i'</span><span>, </span><span style=color:#98bb6c>'&lt;C-s>'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.signature_help()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Lists all symbols in the current buffer</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'gO'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.document_symbol()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Lists all the implementations for the symbol under the cursor</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'gri'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.implementation()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Jumps to the definition of the type symbol</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'grt'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.type_definition()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Lists all the references</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'grr'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.references()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Renames all references to the symbol under the cursor</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'grn'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.rename()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Selects a code action available at the current cursor position</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'gra'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.code_action()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Show diagnostics in a floating window</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;C-w>d'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.diagnostic.open_float()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;C-w>&lt;C-d>'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.diagnostic.open_float()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Jump next/previous diagnostic in the current buffer</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'[d'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.diagnostic.goto_prev()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>']d'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.diagnostic.goto_next()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>vim.api.</span><span style=color:#7e9cd8>nvim_create_autocmd</span><span>(</span><span style=color:#98bb6c>'LspAttach'</span><span>, {</span></span>
<span class=giallo-l><span style=color:#7e9cd8>  callback</span><span style=color:#e6c384> =</span><span style=color:#957fb8> function</span><span style=color:#9cabca>(</span><span>event</span><span style=color:#9cabca>)</span></span>
<span class=giallo-l><span style=color:#727169>    -- NOTE: By default `K` uses the program specified in 'keywordprg'</span></span>
<span class=giallo-l><span style=color:#727169>    -- Here we force it to use the LSP client</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>    -- Display documentation of the symbol under the cursor</span></span>
<span class=giallo-l><span>    vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'K'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.hover()&lt;cr>'</span><span>, {buffer</span><span style=color:#e6c384> =</span><span> event.buf})</span></span>
<span class=giallo-l><span style=color:#957fb8>  end</span><span>,</span></span>
<span class=giallo-l><span>})</span></span></code></pre><h3 id=keep-in-mind>Keep in mind</h3><p>Every language server is an independent project. A language server can have its own unique configuration method outside of Neovim. They can have bugs, limitations and quirks.<p>Some language servers were created for VS Code, the fact that Neovim and other editors can use them is just a happy accident. I believe the language servers for <code>html</code> and <code>css</code> fit in this category. They can have features that only work on VS Code. For example, Neovim can't enable the language server for <code>css</code> inside an <code>html</code> style tag (see <a rel="noopener external" href=https://github.com/neovim/neovim/issues/26783 target=_blank>issue 26783</a>). That probably works fine in VS Code.<h2 id=honorable-mention>Honorable mention</h2><p><a rel="noopener external" href=https://github.com/nvim-treesitter/nvim-treesitter target=_blank>nvim-treesitter</a> is a plugin that has been around since 2020. A lot of people will say it's essential to your Neovim experience, and I do agree to some extend. It is incredibly useful... as a dependency for other plugins. It allows Neovim to gather more information about source code of the current file, and plugin authors can do really cool things with that. Treesitter became known in the community because it could be used to enhance the syntax highlight of many programming languages.<p>There are things you need to be aware of:<ul><li>It needs a <code>C</code> compiler. <ul><li>Not a problem on linux or mac but it is a problem on windows.</ul><li>It only supports the latest stable version of Neovim. <ul><li>It can drop the support for previous versions of Neovim really fast.</ul><li>Is considered experimental. <ul><li>It can introduce breaking changes at any point in time.<li>They do use <code>git tags</code> to <a rel="noopener external" href=https://github.com/nvim-treesitter/nvim-treesitter/tags target=_blank>track versions</a>, in case you need a specific version.</ul></ul><p>To know more about <code>tree-sitter</code> watch this video: <a href="https://www.youtube.com/watch?v=09-9LltqWLY" rel="noopener external" target=_blank>tree-sitter explained (15 min)</a>.<p>If you decide to try it, you can use the command <code>:TSInstall</code> to download a treesitter parser for the language you want, and then you can enable the enhanced syntax highlight using an autocommand.<p>For example, you can download the treesitter parser for javascript using this command.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=viml><span class=giallo-l><span>:TSInstall javascript</span></span></code></pre><p>And then create an autocommand that will call the function <code>vim.treesitter.start()</code> in any filetype that uses javascript syntax. Like this.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span>vim.api.</span><span style=color:#7e9cd8>nvim_create_autocmd</span><span>(</span><span style=color:#98bb6c>'FileType'</span><span>, {</span></span>
<span class=giallo-l><span>  pattern</span><span style=color:#e6c384> =</span><span> {</span><span style=color:#98bb6c>'javascript'</span><span>, </span><span style=color:#98bb6c>'javascriptreact'</span><span>, </span><span style=color:#98bb6c>'js'</span><span>, </span><span style=color:#98bb6c>'jsx'</span><span>},</span></span>
<span class=giallo-l><span style=color:#7e9cd8>  callback</span><span style=color:#e6c384> =</span><span style=color:#957fb8> function</span><span style=color:#9cabca>()</span></span>
<span class=giallo-l><span>    vim.treesitter.</span><span style=color:#7e9cd8>start</span><span>()</span></span>
<span class=giallo-l><span style=color:#957fb8>  end</span><span>,</span></span>
<span class=giallo-l><span>})</span></span></code></pre><h2 id=init-lua>init.lua</h2><p>And this is it. This is all you need to get started if you are using Neovim v0.11. If you need backwards compatibility with Neovim v0.9, <a href=https://vonheikemen.github.io/devlog/tools/simple-neovim-config/#backwards-compatible-config>use this other configuration instead</a>.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span style=color:#727169>-- NOTE: This configuration is meant for Neovim v0.11 or greater</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Learn about Neovim's lua api</span></span>
<span class=giallo-l><span style=color:#727169>-- https://neovim.io/doc/user/lua-guide.html</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>vim.o.number</span><span style=color:#e6c384> =</span><span style=color:#ffa066> true</span></span>
<span class=giallo-l><span>vim.o.tabstop</span><span style=color:#e6c384> =</span><span style=color:#d27e99> 2</span></span>
<span class=giallo-l><span>vim.o.shiftwidth</span><span style=color:#e6c384> =</span><span style=color:#d27e99> 2</span></span>
<span class=giallo-l><span>vim.o.smartcase</span><span style=color:#e6c384> =</span><span style=color:#ffa066> true</span></span>
<span class=giallo-l><span>vim.o.ignorecase</span><span style=color:#e6c384> =</span><span style=color:#ffa066> true</span></span>
<span class=giallo-l><span>vim.o.wrap</span><span style=color:#e6c384> =</span><span style=color:#ffa066> false</span></span>
<span class=giallo-l><span>vim.o.hlsearch</span><span style=color:#e6c384> =</span><span style=color:#ffa066> false</span></span>
<span class=giallo-l><span>vim.o.signcolumn</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'yes'</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Space as the leader key</span></span>
<span class=giallo-l><span>vim.g.mapleader</span><span style=color:#e6c384> =</span><span> vim.</span><span style=color:#7e9cd8>keycode</span><span>(</span><span style=color:#98bb6c>'&lt;Space>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Basic clipboard interaction</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>({</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'x'</span><span>}, </span><span style=color:#98bb6c>'gy'</span><span>, </span><span style=color:#98bb6c>'"+y'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Copy to clipboard'</span><span>})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>({</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'x'</span><span>}, </span><span style=color:#98bb6c>'gp'</span><span>, </span><span style=color:#98bb6c>'"+p'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Paste clipboard text'</span><span>})</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Command shortcuts</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>w'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>write&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Save file'</span><span>})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>q'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>quitall&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Exit vim'</span><span>})</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>vim.cmd.</span><span style=color:#7e9cd8>colorscheme</span><span>(</span><span style=color:#98bb6c>'retrobox'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>local ok, MiniDeps</span><span style=color:#e6c384> =</span><span style=color:#7e9cd8> pcall</span><span>(</span><span style=color:#7e9cd8>require</span><span>, </span><span style=color:#98bb6c>'mini.deps'</span><span>)</span></span>
<span class=giallo-l><span style=color:#957fb8>if</span><span style=color:#e6c384> not</span><span> ok</span><span style=color:#957fb8> then</span></span>
<span class=giallo-l><span>  vim.</span><span style=color:#7e9cd8>notify</span><span>(</span><span style=color:#98bb6c>'[WARN] mini.deps module not found'</span><span>, vim.log.levels.WARN)</span></span>
<span class=giallo-l><span style=color:#957fb8>  return</span></span>
<span class=giallo-l><span style=color:#957fb8>end</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>MiniDeps.</span><span style=color:#7e9cd8>setup</span><span>({})</span></span>
<span class=giallo-l><span>MiniDeps.</span><span style=color:#7e9cd8>add</span><span>(</span><span style=color:#98bb6c>'neovim/nvim-lspconfig'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.snippets'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({})</span></span>
<span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.completion'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({})</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.files'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>e'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua MiniFiles.open()&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'File explorer'</span><span>})</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.pick'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>&lt;space>'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>Pick buffers&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Search open files'</span><span>})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>ff'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>Pick files&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Search all files'</span><span>})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>fh'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>Pick help&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Search help tags'</span><span>})</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- List of compatible language servers is here:</span></span>
<span class=giallo-l><span style=color:#727169>-- https://github.com/neovim/nvim-lspconfig/blob/master/doc/configs.md</span></span>
<span class=giallo-l><span>vim.lsp.</span><span style=color:#7e9cd8>enable</span><span>({</span><span style=color:#98bb6c>'gopls'</span><span>, </span><span style=color:#98bb6c>'rust_analyzer'</span><span>})</span></span></code></pre><h2 id=backwards-compatible-config>Backwards compatible config</h2><p>For those of you that are using Ubuntu or Debian based operating systems, you have to be aware of the version available in the official repo of your system. In Ubuntu 24.04 you'll have <code>v0.9.5</code>. And any system based on Debian 13 will have <code>v0.10.4</code> available.<p>You can still have a good experience using older versions of Neovim but the configuration will be a little bit more complex.<pre class=giallo style=color:#dcd7ba;background-color:#1f1f28><code data-lang=lua><span class=giallo-l><span style=color:#727169>-- NOTE: This is meant to be backwards compatible with Neovim v0.9.5</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Learn about Neovim's lua api</span></span>
<span class=giallo-l><span style=color:#727169>-- https://neovim.io/doc/user/lua-guide.html</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>vim.o.number</span><span style=color:#e6c384> =</span><span style=color:#ffa066> true</span></span>
<span class=giallo-l><span>vim.o.tabstop</span><span style=color:#e6c384> =</span><span style=color:#d27e99> 2</span></span>
<span class=giallo-l><span>vim.o.shiftwidth</span><span style=color:#e6c384> =</span><span style=color:#d27e99> 2</span></span>
<span class=giallo-l><span>vim.o.smartcase</span><span style=color:#e6c384> =</span><span style=color:#ffa066> true</span></span>
<span class=giallo-l><span>vim.o.ignorecase</span><span style=color:#e6c384> =</span><span style=color:#ffa066> true</span></span>
<span class=giallo-l><span>vim.o.wrap</span><span style=color:#e6c384> =</span><span style=color:#ffa066> false</span></span>
<span class=giallo-l><span>vim.o.hlsearch</span><span style=color:#e6c384> =</span><span style=color:#ffa066> false</span></span>
<span class=giallo-l><span>vim.o.signcolumn</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'yes'</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Space as the leader key</span></span>
<span class=giallo-l><span>vim.g.mapleader</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> ' '</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Basic clipboard interaction</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>({</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'x'</span><span>}, </span><span style=color:#98bb6c>'gy'</span><span>, </span><span style=color:#98bb6c>'"+y'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Copy to clipboard'</span><span>})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>({</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'x'</span><span>}, </span><span style=color:#98bb6c>'gp'</span><span>, </span><span style=color:#98bb6c>'"+p'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Paste clipboard text'</span><span>})</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Command shortcuts</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>w'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>write&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Save file'</span><span>})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>q'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>quitall&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Exit vim'</span><span>})</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>local ok_theme</span><span style=color:#e6c384> =</span><span style=color:#7e9cd8> pcall</span><span>(vim.cmd.colorscheme, </span><span style=color:#98bb6c>'retrobox'</span><span>)</span></span>
<span class=giallo-l><span style=color:#957fb8>if</span><span style=color:#e6c384> not</span><span> ok_theme</span><span style=color:#957fb8> then</span></span>
<span class=giallo-l><span>  vim.cmd.</span><span style=color:#7e9cd8>colorscheme</span><span>(</span><span style=color:#98bb6c>'habamax'</span><span>)</span></span>
<span class=giallo-l><span style=color:#957fb8>end</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>local ok, MiniDeps</span><span style=color:#e6c384> =</span><span style=color:#7e9cd8> pcall</span><span>(</span><span style=color:#7e9cd8>require</span><span>, </span><span style=color:#98bb6c>'mini.deps'</span><span>)</span></span>
<span class=giallo-l><span style=color:#957fb8>if</span><span style=color:#e6c384> not</span><span> ok</span><span style=color:#957fb8> then</span></span>
<span class=giallo-l><span>  vim.</span><span style=color:#7e9cd8>notify</span><span>(</span><span style=color:#98bb6c>'[WARN] mini.deps module not found'</span><span>, vim.log.levels.WARN)</span></span>
<span class=giallo-l><span style=color:#957fb8>  return</span></span>
<span class=giallo-l><span style=color:#957fb8>end</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>MiniDeps.</span><span style=color:#7e9cd8>setup</span><span>({})</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#957fb8>if</span><span> vim.fn.</span><span style=color:#7e9cd8>has</span><span>(</span><span style=color:#98bb6c>'nvim-0.11'</span><span>) </span><span style=color:#e6c384>==</span><span style=color:#d27e99> 1</span><span style=color:#957fb8> then</span></span>
<span class=giallo-l><span>  MiniDeps.</span><span style=color:#7e9cd8>add</span><span>(</span><span style=color:#98bb6c>'neovim/nvim-lspconfig'</span><span>)</span></span>
<span class=giallo-l><span style=color:#957fb8>else</span></span>
<span class=giallo-l><span>  MiniDeps.</span><span style=color:#7e9cd8>add</span><span>({</span></span>
<span class=giallo-l><span>    source</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'neovim/nvim-lspconfig'</span><span>,</span></span>
<span class=giallo-l><span>    checkout</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'v1.8.0'</span></span>
<span class=giallo-l><span>  })</span></span>
<span class=giallo-l><span style=color:#957fb8>end</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.snippets'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({})</span></span>
<span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.completion'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({})</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.files'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>e'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua MiniFiles.open()&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'File explorer'</span><span>})</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#7e9cd8>require</span><span>(</span><span style=color:#98bb6c>'mini.pick'</span><span>).</span><span style=color:#7e9cd8>setup</span><span>({})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>&lt;space>'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>Pick buffers&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Search open files'</span><span>})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>ff'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>Pick files&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Search all files'</span><span>})</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;leader>fh'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>Pick help&lt;cr>'</span><span>, {desc</span><span style=color:#e6c384> =</span><span style=color:#98bb6c> 'Search help tags'</span><span>})</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Displays a function's signature information</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'i'</span><span>, </span><span style=color:#98bb6c>'&lt;C-s>'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.signature_help()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Lists all symbols in the current buffer</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'gO'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.document_symbol()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Lists all the implementations for the symbol under the cursor</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'gri'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.implementation()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Jumps to the definition of the type symbol</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'grt'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.type_definition()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Lists all the references</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'grr'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.references()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Renames all references to the symbol under the cursor</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'grn'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.rename()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Selects a code action available at the current cursor position</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'gra'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.code_action()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- Show diagnostics in a floating window</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;C-w>d'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.diagnostic.open_float()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l><span>vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'&lt;C-w>&lt;C-d>'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.diagnostic.open_float()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#957fb8>if</span><span> vim.fn.</span><span style=color:#7e9cd8>has</span><span>(</span><span style=color:#98bb6c>'nvim-0.11'</span><span>) </span><span style=color:#e6c384>==</span><span style=color:#d27e99> 0</span><span style=color:#957fb8> then</span></span>
<span class=giallo-l><span style=color:#727169>  -- Jump next/previous diagnostic in the current buffer</span></span>
<span class=giallo-l><span>  vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'[d'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.diagnostic.goto_prev()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l><span>  vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>']d'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.diagnostic.goto_next()&lt;cr>'</span><span>)</span></span>
<span class=giallo-l><span style=color:#957fb8>end</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>vim.api.</span><span style=color:#7e9cd8>nvim_create_autocmd</span><span>(</span><span style=color:#98bb6c>'LspAttach'</span><span>, {</span></span>
<span class=giallo-l><span style=color:#7e9cd8>  callback</span><span style=color:#e6c384> =</span><span style=color:#957fb8> function</span><span style=color:#9cabca>(</span><span>event</span><span style=color:#9cabca>)</span></span>
<span class=giallo-l><span style=color:#727169>    -- NOTE: By default `K` uses the program specified in the 'keywordprg' option.</span></span>
<span class=giallo-l><span style=color:#727169>    -- Here we override the default behavior, we force it to use the LSP client</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>    -- Display documentation of the symbol under the cursor</span></span>
<span class=giallo-l><span>    vim.keymap.</span><span style=color:#7e9cd8>set</span><span>(</span><span style=color:#98bb6c>'n'</span><span>, </span><span style=color:#98bb6c>'K'</span><span>, </span><span style=color:#98bb6c>'&lt;cmd>lua vim.lsp.buf.hover()&lt;cr>'</span><span>, {buffer</span><span style=color:#e6c384> =</span><span> event.buf})</span></span>
<span class=giallo-l><span style=color:#957fb8>  end</span><span>,</span></span>
<span class=giallo-l><span>})</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- This function will use the "legacy setup" on older Neovim version.</span></span>
<span class=giallo-l><span style=color:#727169>-- The new api is only available on Neovim v0.11 or greater.</span></span>
<span class=giallo-l><span>local</span><span style=color:#957fb8> function</span><span style=color:#7e9cd8> lsp_setup</span><span style=color:#9cabca>(</span><span>server</span><span style=color:#9cabca>,</span><span> opts</span><span style=color:#9cabca>)</span></span>
<span class=giallo-l><span style=color:#957fb8>  if</span><span> vim.fn.</span><span style=color:#7e9cd8>has</span><span>(</span><span style=color:#98bb6c>'nvim-0.11'</span><span>) </span><span style=color:#e6c384>==</span><span style=color:#d27e99> 0</span><span style=color:#957fb8> then</span></span>
<span class=giallo-l><span style=color:#7e9cd8>    require</span><span>(</span><span style=color:#98bb6c>'lspconfig'</span><span>)[server].</span><span style=color:#7e9cd8>setup</span><span>(opts)</span></span>
<span class=giallo-l><span style=color:#957fb8>    return</span></span>
<span class=giallo-l><span style=color:#957fb8>  end</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#957fb8>  if</span><span style=color:#e6c384> not</span><span> vim.</span><span style=color:#7e9cd8>tbl_isempty</span><span>(opts) </span><span style=color:#957fb8>then</span></span>
<span class=giallo-l><span>    vim.lsp.</span><span style=color:#7e9cd8>config</span><span>(server, opts)</span></span>
<span class=giallo-l><span style=color:#957fb8>  end</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>  vim.lsp.</span><span style=color:#7e9cd8>enable</span><span>(server)</span></span>
<span class=giallo-l><span style=color:#957fb8>end</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#727169>-- List of compatible language servers is here:</span></span>
<span class=giallo-l><span style=color:#727169>-- https://github.com/neovim/nvim-lspconfig/blob/master/doc/configs.md</span></span>
<span class=giallo-l><span style=color:#7e9cd8>lsp_setup</span><span>(</span><span style=color:#98bb6c>'gopls'</span><span>, {})</span></span>
<span class=giallo-l><span style=color:#7e9cd8>lsp_setup</span><span>(</span><span style=color:#98bb6c>'rust_analyzer'</span><span>, {})</span></span></code></pre><hr><p>If you have a question you can reach out to me on social media:<ul><li>Twitter <a rel="noopener me" href=https://twitter.com/VonHeikemen_ target=_blank> @VonHeikemen_ </a><li>Bluesky <a rel="noopener me" href=https://bsky.app/profile/vonheikemen.bsky.social target=_blank> @vonheikemen.bsky.social </a><li>Mastodon <a rel="noopener me" href=https://hachyderm.io/@vonheikemen target=_blank> @vonheikemen@hachyderm.io </a></ul><p>Thank you for reading. If you find this article useful and want to support my efforts, buy me a coffee ☕</p><a href=https://ko-fi.com/vonheikemen style=justify-content:center;display:flex target=_blank> <img alt="Buy Me A Coffee" src="https://storage.ko-fi.com/cdn/kofi2.png?v=3" style=width:217px!important;height:60px!important> </a></div></div>